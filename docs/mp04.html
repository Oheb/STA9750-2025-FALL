<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.22">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel Ohebshalom">
<meta name="dcterms.date" content="2025-12-05">

<title>Mini-Project 04 - Just the Fact(-Check)s, Ma’am! – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-cd7454b418030687c631a6a7286fbe16.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-8e92d9f42a47732ff4c8bbfdf565a50f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.34.0/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-acquisition-and-preparation" id="toc-data-acquisition-and-preparation" class="nav-link" data-scroll-target="#data-acquisition-and-preparation">Data Acquisition and Preparation</a>
  <ul class="collapse">
  <li><a href="#package-import" id="toc-package-import" class="nav-link" data-scroll-target="#package-import">Package Import</a></li>
  </ul></li>
  <li><a href="#task-1-accessing-and-extracting-nonfarm-payroll-tables" id="toc-task-1-accessing-and-extracting-nonfarm-payroll-tables" class="nav-link" data-scroll-target="#task-1-accessing-and-extracting-nonfarm-payroll-tables">Task 1: Accessing and Extracting NonFarm Payroll Tables</a>
  <ul class="collapse">
  <li><a href="#bls-data-extraction" id="toc-bls-data-extraction" class="nav-link" data-scroll-target="#bls-data-extraction">BLS Data Extraction</a></li>
  </ul></li>
  <li><a href="#task-2-accesing-and-extracting-ces-revisions-tables" id="toc-task-2-accesing-and-extracting-ces-revisions-tables" class="nav-link" data-scroll-target="#task-2-accesing-and-extracting-ces-revisions-tables">Task 2: Accesing and extracting CES Revisions Tables:</a>
  <ul class="collapse">
  <li><a href="#loading-and-cleaning-the-data-for-exporatory-analysis" id="toc-loading-and-cleaning-the-data-for-exporatory-analysis" class="nav-link" data-scroll-target="#loading-and-cleaning-the-data-for-exporatory-analysis">Loading and Cleaning the Data for Exporatory analysis</a>
  <ul class="collapse">
  <li><a href="#load-ces-payroll-data" id="toc-load-ces-payroll-data" class="nav-link" data-scroll-target="#load-ces-payroll-data">Load CES Payroll Data</a></li>
  <li><a href="#load-ces-revisions-data" id="toc-load-ces-revisions-data" class="nav-link" data-scroll-target="#load-ces-revisions-data">Load CES Revisions Data</a></li>
  <li><a href="#combine-payroll-and-revisions" id="toc-combine-payroll-and-revisions" class="nav-link" data-scroll-target="#combine-payroll-and-revisions">Combine Payroll and Revisions</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#task-3-data-exploration-and-visualizaton" id="toc-task-3-data-exploration-and-visualizaton" class="nav-link" data-scroll-target="#task-3-data-exploration-and-visualizaton">Task 3: Data Exploration and Visualizaton</a>
  <ul class="collapse">
  <li><a href="#statisitcal-ces-statisitics" id="toc-statisitcal-ces-statisitics" class="nav-link" data-scroll-target="#statisitcal-ces-statisitics">Statisitcal CES Statisitics:</a>
  <ul class="collapse">
  <li><a href="#analysis-1-largest-positive-and-negative-revisions-by-era" id="toc-analysis-1-largest-positive-and-negative-revisions-by-era" class="nav-link" data-scroll-target="#analysis-1-largest-positive-and-negative-revisions-by-era">Analysis 1: Largest Positive and Negative Revisions by Era</a></li>
  <li><a href="#analysis-2-top-10-largest-negative-revisions-all-time" id="toc-analysis-2-top-10-largest-negative-revisions-all-time" class="nav-link" data-scroll-target="#analysis-2-top-10-largest-negative-revisions-all-time">Analysis 2: Top 10 Largest Negative Revisions (All Time)</a></li>
  <li><a href="#analysis-3-pre-2020-vs-post-2020-average-revision-comparison" id="toc-analysis-3-pre-2020-vs-post-2020-average-revision-comparison" class="nav-link" data-scroll-target="#analysis-3-pre-2020-vs-post-2020-average-revision-comparison">Analysis 3: Pre-2020 vs Post-2020 Average % Revision Comparison</a></li>
  <li><a href="#analysis-4-which-calendar-months-overall-have-highest-positive-revisions" id="toc-analysis-4-which-calendar-months-overall-have-highest-positive-revisions" class="nav-link" data-scroll-target="#analysis-4-which-calendar-months-overall-have-highest-positive-revisions">Analysis 4: Which Calendar Months Overall Have Highest % Positive Revisions?</a></li>
  <li><a href="#analysis-5-annual-rolling-standard-deviation-by-era-revision-volatility" id="toc-analysis-5-annual-rolling-standard-deviation-by-era-revision-volatility" class="nav-link" data-scroll-target="#analysis-5-annual-rolling-standard-deviation-by-era-revision-volatility">Analysis 5 : Annual Rolling Standard Deviation by Era (Revision Volatility):</a></li>
  <li><a href="#analysis-6-normalized-revision-ratio-revision-employment-level" id="toc-analysis-6-normalized-revision-ratio-revision-employment-level" class="nav-link" data-scroll-target="#analysis-6-normalized-revision-ratio-revision-employment-level">Analysis 6: Normalized Revision Ratio (Revision / Employment Level)</a></li>
  </ul></li>
  <li><a href="#visual-ces-analysis" id="toc-visual-ces-analysis" class="nav-link" data-scroll-target="#visual-ces-analysis">Visual CES Analysis:</a>
  <ul class="collapse">
  <li><a href="#visualization-1-heatmap---year-month-revision-magnitude" id="toc-visualization-1-heatmap---year-month-revision-magnitude" class="nav-link" data-scroll-target="#visualization-1-heatmap---year-month-revision-magnitude">Visualization 1: Heatmap - Year × Month Revision Magnitude</a></li>
  <li><a href="#visualization-2-line-graph---monthly-revisions-over-time" id="toc-visualization-2-line-graph---monthly-revisions-over-time" class="nav-link" data-scroll-target="#visualization-2-line-graph---monthly-revisions-over-time">Visualization 2: Line Graph - Monthly Revisions Over Time</a></li>
  <li><a href="#visualization-3-dual-axis-chart---employment-level-vs-revision" id="toc-visualization-3-dual-axis-chart---employment-level-vs-revision" class="nav-link" data-scroll-target="#visualization-3-dual-axis-chart---employment-level-vs-revision">Visualization 3: Dual-Axis Chart - Employment Level vs Revision</a></li>
  <li><a href="#visualization-4-pre-2020-vs-post-2020-distrbution-of-revision-calculations" id="toc-visualization-4-pre-2020-vs-post-2020-distrbution-of-revision-calculations" class="nav-link" data-scroll-target="#visualization-4-pre-2020-vs-post-2020-distrbution-of-revision-calculations">Visualization 4: Pre-2020 vs Post-2020 Distrbution of Revision Calculations</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#task-4-statistical-inference" id="toc-task-4-statistical-inference" class="nav-link" data-scroll-target="#task-4-statistical-inference">Task 4: Statistical Inference</a>
  <ul class="collapse">
  <li><a href="#has-the-fraction-of-revisions-1-increased-post-2020" id="toc-has-the-fraction-of-revisions-1-increased-post-2020" class="nav-link" data-scroll-target="#has-the-fraction-of-revisions-1-increased-post-2020">Has the fraction of revisions &gt; 1% increased post-2020?</a>
  <ul class="collapse">
  <li><a href="#results-analysis" id="toc-results-analysis" class="nav-link" data-scroll-target="#results-analysis">Results &amp; Analysis:</a></li>
  </ul></li>
  <li><a href="#are-revisions-larger-when-ces-change-is-larger" id="toc-are-revisions-larger-when-ces-change-is-larger" class="nav-link" data-scroll-target="#are-revisions-larger-when-ces-change-is-larger">Are revisions larger when CES change is larger?</a>
  <ul class="collapse">
  <li><a href="#results-analysis-1" id="toc-results-analysis-1" class="nav-link" data-scroll-target="#results-analysis-1">Results &amp; Analysis:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#task-5-fact-checking-bls-claims" id="toc-task-5-fact-checking-bls-claims" class="nav-link" data-scroll-target="#task-5-fact-checking-bls-claims">Task 5: Fact Checking BLS Claims:</a>
  <ul class="collapse">
  <li><a href="#hypothesis-i-democratic-presidents-have-more-negative-revisions-and-often-lie-about-raw-employment-numbers-to-inflate-their-public-perceptions." id="toc-hypothesis-i-democratic-presidents-have-more-negative-revisions-and-often-lie-about-raw-employment-numbers-to-inflate-their-public-perceptions." class="nav-link" data-scroll-target="#hypothesis-i-democratic-presidents-have-more-negative-revisions-and-often-lie-about-raw-employment-numbers-to-inflate-their-public-perceptions.">Hypothesis I: Democratic Presidents have more negative revisions and often lie about raw employment numbers to inflate their public perceptions.</a></li>
  <li><a href="#hypothesis-ii-the-most-egregious-month-for-absolute-revisions-is-september-in-preparation-for-eoy-valuations." id="toc-hypothesis-ii-the-most-egregious-month-for-absolute-revisions-is-september-in-preparation-for-eoy-valuations." class="nav-link" data-scroll-target="#hypothesis-ii-the-most-egregious-month-for-absolute-revisions-is-september-in-preparation-for-eoy-valuations.">Hypothesis II: The most egregious month for absolute revisions is September in preparation for EOY valuations.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini-Project 04 - Just the Fact(-Check)s, Ma’am!</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel Ohebshalom </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 5, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The Bureau of Labor Statistics (BLS) releases the Current Employment Statistics Report (CES) on a monthly basis, which is the backbone behind mainstream news coverage and all the jargon that comes with it. The CES covers how many people are employed each month in the United States.</p>
<p>As more data is released to the BLS, these number are later revised, which is viewed as highly controversial amongst the US Populous due to claims of manipulation both on the corporate and government side of things to drive up conversation.</p>
</section>
<section id="data-acquisition-and-preparation" class="level1">
<h1>Data Acquisition and Preparation</h1>
<p>Using the httr2 and rvest packages, we will be scraping and acquring data from the data.bls.gov page spanning from 1979 to 2025. The process is as follows:</p>
<section id="package-import" class="level2">
<h2 class="anchored" data-anchor-id="package-import">Package Import</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
</section>
<section id="task-1-accessing-and-extracting-nonfarm-payroll-tables" class="level1">
<h1>Task 1: Accessing and Extracting NonFarm Payroll Tables</h1>
<p>These are the raw numbers and statistics from the Bureau of Labor Statistics from 1979-2025, detailing how many nonfarm paid workers are employed in the United States in a given month</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Endpoint</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>post_url <span class="ot">&lt;-</span> <span class="st">"https://data.bls.gov/pdq/SurveyOutputServlet"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Forming Data from BLS website using Devtools</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>form_fields <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"request_action"</span>      <span class="ot">=</span> <span class="st">"get_data"</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"reformat"</span>            <span class="ot">=</span> <span class="st">"true"</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"from_results_page"</span>   <span class="ot">=</span> <span class="st">"true"</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"from_year"</span>           <span class="ot">=</span> <span class="st">"1979"</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"to_year"</span>             <span class="ot">=</span> <span class="st">"2025"</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Go.x"</span>                <span class="ot">=</span> <span class="st">"19"</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Go.y"</span>                <span class="ot">=</span> <span class="st">"9"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"initial_request"</span>     <span class="ot">=</span> <span class="st">"false"</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data_tool"</span>           <span class="ot">=</span> <span class="st">"surveymost"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"series_id"</span>           <span class="ot">=</span> <span class="st">"CES0000000001"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"years_option"</span>        <span class="ot">=</span> <span class="st">"specific_years"</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional headers and Web Fetch (Avoid Error 403)</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>headers_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">Referer    =</span> <span class="st">"https://data.bls.gov/toppicks?survey=ce"</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">User-Agent</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Chrome/142.0.7444.176 (compatible; R httr2)"</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># HTML POST request</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>req <span class="ot">&lt;-</span> <span class="fu">request</span>(post_url) <span class="sc">%&gt;%</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_method</span>(<span class="st">"POST"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_headers</span>(<span class="sc">!!!</span>headers_list) <span class="sc">%&gt;%</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_body_form</span>(<span class="sc">!!!</span>form_fields)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="bls-data-extraction" class="level2">
<h2 class="anchored" data-anchor-id="bls-data-extraction">BLS Data Extraction</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform Request</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>resp <span class="ot">&lt;-</span> <span class="fu">req_perform</span>(req)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse HTML and extract table </span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>html <span class="ot">&lt;-</span> <span class="fu">resp_body_html</span>(resp, <span class="at">encoding =</span> <span class="st">"UTF-8"</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># pick table with most rows (usually the main data table)</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> html <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">"table"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>tr_counts <span class="ot">&lt;-</span> <span class="fu">map_int</span>(tables, <span class="sc">~</span> <span class="fu">length</span>(<span class="fu">html_nodes</span>(.x, <span class="st">"tr"</span>)))</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>table_node <span class="ot">&lt;-</span> tables[[<span class="fu">which.max</span>(tr_counts)]]</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>raw_tbl <span class="ot">&lt;-</span> table_node <span class="sc">%&gt;%</span> <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix first column name if blank</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">names</span>(raw_tbl)[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">""</span> <span class="sc">|</span> <span class="fu">is.na</span>(<span class="fu">names</span>(raw_tbl)[<span class="dv">1</span>])) {</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(raw_tbl)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"year"</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(raw_tbl)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"year"</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot and clean</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>ces_payroll <span class="ot">&lt;-</span> raw_tbl <span class="sc">%&gt;%</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>year, <span class="at">names_to =</span> <span class="st">"month"</span>, <span class="at">values_to =</span> <span class="st">"level_raw"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">month  =</span> <span class="fu">str_trim</span>(month),</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">ym_str =</span> <span class="fu">paste</span>(year, month),</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">date   =</span> <span class="fu">suppressWarnings</span>(<span class="fu">ym</span>(ym_str)),</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">date   =</span> <span class="fu">if_else</span>(</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>               <span class="fu">is.na</span>(date),</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>               <span class="fu">suppressWarnings</span>(<span class="fu">parse_date_time</span>(ym_str, <span class="at">orders =</span> <span class="fu">c</span>(<span class="st">"Y b"</span>, <span class="st">"Y B"</span>, <span class="st">"Y m"</span>))),</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>               date</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>             ),</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">date   =</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="fu">suppressWarnings</span>(<span class="fu">parse_number</span>(level_raw))</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, level) <span class="sc">%&gt;%</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(date, level) <span class="sc">%&gt;%</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&lt;=</span> <span class="fu">as_date</span>(<span class="st">"2025-06-01"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
</section>
<section id="task-2-accesing-and-extracting-ces-revisions-tables" class="level1">
<h1>Task 2: Accesing and extracting CES Revisions Tables:</h1>
<p>These tables are created annually and contain the original estimated employment from the BLS, the final employment,and the resulting revision amount from the two numbers. The extracting process combines all annual tables into a single dataset sorted chronologically for proper analysis.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You must fetch the page to avoid error 403</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>fetch_bls_page <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">request</span>(<span class="st">"https://www.bls.gov/web/empsit/cesnaicsrev.htm"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_user_agent</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Chrome/142.0.7444.176"</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_headers</span>(</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">Accept =</span> <span class="st">"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Accept-Language</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"en-US,en;q=0.9"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">Referer =</span> <span class="st">"https://www.bls.gov/"</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req_perform</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">resp_body_html</span>()</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract CES revisions for a single year</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>get_ces_year <span class="ot">&lt;-</span> <span class="cf">function</span>(year, page_html) {</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the table body for this year</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  node <span class="ot">&lt;-</span> page_html <span class="sc">%&gt;%</span> <span class="fu">html_node</span>(<span class="fu">sprintf</span>(<span class="st">"table#%s tbody"</span>, year))</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(node)) <span class="fu">stop</span>(<span class="st">"Could not find table for year "</span>, year)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract table (header = FALSE)</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  raw_tbl <span class="ot">&lt;-</span> node <span class="sc">%&gt;%</span> <span class="fu">html_table</span>(<span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep first 12 rows (12 months of the year)</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  tbl <span class="ot">&lt;-</span> raw_tbl[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>]</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract columns 1, 3, 5</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  month_col    <span class="ot">&lt;-</span> <span class="fu">as.character</span>(tbl[[<span class="dv">1</span>]])</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  original_col <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"[^0-9</span><span class="sc">\\</span><span class="st">-]"</span>, <span class="st">""</span>, tbl[[<span class="dv">3</span>]]))  <span class="co"># remove commas, spaces</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  final_col    <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"[^0-9</span><span class="sc">\\</span><span class="st">-]"</span>, <span class="st">""</span>, tbl[[<span class="dv">5</span>]]))</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute revision</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  revision_col <span class="ot">&lt;-</span> final_col <span class="sc">-</span> original_col</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Build dates</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  date_col <span class="ot">&lt;-</span> <span class="fu">ym</span>(<span class="fu">paste</span>(year, month_col))</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assemble final data frame</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> date_col,</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">original =</span> original_col,</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">final =</span> final_col,</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">revision =</span> revision_col</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch page once</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>page_html <span class="ot">&lt;-</span> <span class="fu">fetch_bls_page</span>()</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop over all years 1979-2025</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="dv">1979</span><span class="sc">:</span><span class="dv">2025</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a><span class="co">#Bring it all together</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>ces_revisions <span class="ot">&lt;-</span> <span class="fu">map_df</span>(years, <span class="sc">~</span> <span class="fu">get_ces_year</span>(.x, page_html)) <span class="sc">%&gt;%</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date)</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a><span class="co"># For 2025, keep only Jan–Jun (filter out any beyond June)</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>ces_revisions <span class="ot">&lt;-</span> ces_revisions <span class="sc">%&gt;%</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&lt;=</span> <span class="fu">as_date</span>(<span class="st">"2025-06-01"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date))</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Revisions data summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Revisions data summary:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Rows:"</span>, <span class="fu">nrow</span>(ces_revisions), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 582 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Date range:"</span>, <span class="fu">min</span>(ces_revisions<span class="sc">$</span>date), <span class="st">"to"</span>, <span class="fu">max</span>(ces_revisions<span class="sc">$</span>date), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Date range: 3287 to 20240 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(ces_revisions,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"CES Monthly Revisions (1979-2025)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-c7bbf4f50d8959a565b7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c7bbf4f50d8959a565b7">{"x":{"filter":"none","vertical":false,"caption":"<caption>CES Monthly Revisions (1979-2025)<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582"],["1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-01-01","2020-01-01","2020-02-01","2020-02-01","2020-02-01","2020-03-01","2020-03-01","2020-03-01","2020-04-01","2020-04-01","2020-04-01","2020-05-01","2020-05-01","2020-05-01","2020-06-01","2020-06-01","2020-06-01","2020-07-01","2020-07-01","2020-07-01","2020-08-01","2020-08-01","2020-08-01","2020-09-01","2020-09-01","2020-09-01","2020-10-01","2020-10-01","2020-10-01","2020-11-01","2020-11-01","2020-11-01","2020-12-01","2020-12-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01","2025-05-01","2025-06-01"],[325,301,324,72,171,97,44,2,135,306,218,317,305,141,-140,-479,-180,-514,-238,201,187,257,268,205,374,51,1,-220,-16,-14,383,61,-54,-205,-237,-293,-237,97,-218,-167,-24,-141,-17,-211,-230,-263,-163,-166,339,-180,119,258,374,344,487,-411,733,320,370,231,287,386,143,407,232,301,302,159,139,441,303,309,348,119,381,217,345,80,243,288,128,414,182,320,566,226,192,206,149,-89,389,202,107,298,249,269,448,337,164,316,123,116,304,156,132,549,274,326,107,531,262,174,209,346,283,219,255,323,463,279,408,289,180,117,101,180,169,110,209,233,210,142,275,372,26,64,164,40,-219,-75,-101,-68,-267,-76,-232,-184,-206,-124,59,-50,-51,34,24,-1,-241,31,-91,164,19,126,68,-117,198,-83,-57,27,105,64,106,365,-22,119,209,13,162,-39,156,177,208,183,62,217,456,267,191,379,259,179,239,194,350,256,134,318,203,-9,-101,215,55,249,121,116,166,151,-201,705,140,2,348,239,193,250,-40,210,118,262,271,339,175,142,138,217,316,49,215,284,404,370,358,310,-36,262,296,205,66,365,69,116,267,378,245,275,46,234,11,268,310,124,-8,310,234,315,387,43,416,340,231,11,-108,-105,252,137,94,105,268,135,-86,-223,-19,-114,-42,-113,-199,-415,-331,-124,-89,66,58,43,41,36,6,39,-43,-5,-40,-101,143,-308,-108,-48,-17,-30,-44,-93,57,126,57,1,112,21,308,288,248,112,32,144,96,337,112,157,146,262,110,274,78,146,207,169,-35,56,215,108,193,243,211,138,75,121,113,128,51,92,132,167,111,97,180,88,157,132,92,-4,110,166,94,18,-17,-63,-80,-20,-49,-62,-51,-84,-159,-240,-533,-524,-598,-651,-663,-539,-345,-467,-247,-216,-263,-190,-11,-85,-20,-36,162,290,431,-125,-131,-54,-95,151,39,103,36,192,216,244,54,18,117,0,103,80,120,200,243,227,120,115,69,80,163,96,114,171,146,155,157,236,88,165,175,195,162,169,148,204,203,74,113,175,192,288,217,288,209,142,248,214,321,252,257,295,126,223,280,223,215,173,142,271,211,292,151,242,215,160,38,287,255,151,156,161,178,156,227,235,98,211,138,222,209,156,-33,261,228,148,200,313,103,164,223,213,157,201,134,250,155,312,304,20,196,263,75,224,164,130,136,128,266,145,null,null,225,null,null,273,null,null,-701,null,null,-20537,null,null,2509,null,null,4800,null,null,1763,null,null,1371,null,null,661,null,null,638,null,null,245,null,null,-140,49,379,916,266,559,850,943,235,194,531,210,199,467,678,431,428,390,372,528,315,263,261,263,223,517,311,236,253,339,209,187,187,336,150,199,216,353,275,303,175,272,206,114,142,254,12,227,256,143,151,228,177,139,147],[243,294,445,-15,291,225,87,49,41,179,118,141,411,193,-26,-193,-483,-421,-180,275,242,326,251,164,356,171,53,111,106,51,265,21,132,-201,-310,-409,-234,140,-155,-221,83,-327,-304,-223,-45,-407,-110,-185,355,-161,69,287,320,423,308,-417,1116,236,268,244,331,427,212,391,319,367,215,173,284,347,340,187,364,116,319,210,301,52,234,270,240,342,242,285,410,160,55,299,135,-75,262,178,277,266,242,254,304,228,179,269,110,110,308,149,159,549,302,327,215,538,291,261,208,568,214,154,312,236,446,222,424,276,177,213,209,297,160,120,209,75,281,118,361,373,123,-26,369,212,-89,-127,-1,-180,-267,-161,-191,-286,-258,-166,151,-2,-26,112,95,7,-230,39,-122,106,58,177,119,-73,171,-109,12,74,75,106,113,338,26,255,238,43,237,-33,197,162,216,230,-31,278,379,401,252,383,290,290,272,162,534,231,169,355,179,8,-62,299,28,263,94,68,212,145,-146,631,158,191,407,219,235,263,-2,261,181,231,259,314,182,327,163,222,384,52,300,291,429,354,399,259,82,320,328,189,118,322,172,164,277,314,217,335,83,321,28,281,373,129,103,284,257,309,394,27,527,410,171,57,-40,-79,195,66,53,36,289,136,59,-165,41,-99,18,-54,-165,-448,-355,-106,-109,-4,-5,-21,22,34,54,123,-84,69,-81,-147,203,-353,0,0,-76,-83,-57,35,99,100,83,8,159,83,353,324,208,96,85,198,119,312,132,155,124,300,122,292,126,175,277,148,17,25,354,145,154,200,175,112,100,134,123,230,203,86,196,226,162,90,175,122,188,69,93,93,44,159,60,41,-76,-83,-88,-67,-47,-100,-67,-127,-403,-423,-597,-681,-741,-681,-652,-519,-303,-463,-304,-154,-139,-127,64,-109,14,39,208,313,432,-175,-66,-1,-24,210,93,152,68,235,194,217,53,20,127,104,210,112,157,223,275,259,143,68,87,45,181,192,132,137,247,219,148,332,142,199,176,172,89,238,175,200,274,84,144,222,203,304,229,267,243,203,271,261,423,329,201,266,119,187,260,245,223,153,145,307,280,271,168,233,186,144,24,271,252,176,208,135,164,155,216,232,50,207,145,210,138,208,38,211,216,175,176,324,155,175,268,208,165,286,119,274,196,227,312,56,153,216,62,178,166,219,193,152,261,184,null,null,214,null,null,251,null,null,-1373,null,null,-20787,null,null,2725,null,null,4781,null,null,1761,null,null,1493,null,null,711,null,null,654,null,null,264,null,null,-306,233,536,785,269,614,962,1091,483,379,648,647,588,504,714,398,368,386,293,537,292,269,263,290,239,472,248,217,217,281,105,236,165,262,105,182,290,256,236,310,108,216,118,144,78,255,43,261,323,111,102,120,158,19,-13],[-82,-7,121,-87,120,128,43,47,-94,-127,-100,-176,106,52,114,286,-303,93,58,74,55,69,-17,-41,-18,120,52,331,122,65,-118,-40,186,4,-73,-116,3,43,63,-54,107,-186,-287,-12,185,-144,53,-19,16,19,-50,29,-54,79,-179,-6,383,-84,-102,13,44,41,69,-16,87,66,-87,14,145,-94,37,-122,16,-3,-62,-7,-44,-28,-9,-18,112,-72,60,-35,-156,-66,-137,93,-14,14,-127,-24,170,-32,-7,-15,-144,-109,15,-47,-13,-6,4,-7,27,0,28,1,108,7,29,87,-1,222,-69,-65,57,-87,-17,-57,16,-13,-3,96,108,117,-9,10,0,-158,71,-24,86,1,97,-90,205,172,130,-52,100,-112,0,-85,41,-102,-52,-42,92,48,25,78,71,8,11,8,-31,-58,39,51,51,44,-27,-26,69,47,-30,42,7,-27,48,136,29,30,75,6,41,-15,8,47,-93,61,-77,134,61,4,31,111,33,-32,184,-25,35,37,-24,17,39,84,-27,14,-27,-48,46,-6,55,-74,18,189,59,-20,42,13,38,51,63,-31,-12,-25,7,185,25,5,68,3,85,7,25,-16,41,-51,118,58,32,-16,52,-43,103,48,10,-64,-28,60,37,87,17,13,63,5,111,-26,23,-6,7,-16,111,70,-60,46,68,26,-57,-71,-41,-69,21,1,145,58,60,15,60,59,34,-33,-24,18,-20,-70,-63,-64,-19,-2,48,84,-41,74,-41,-46,60,-45,108,48,-59,-53,-13,128,42,-26,26,7,47,62,45,36,-40,-16,53,54,23,-25,20,-2,-22,38,12,18,48,29,70,-21,52,-31,139,37,-39,-43,-36,-26,25,13,10,102,152,-6,64,59,51,-7,-5,34,31,-63,1,97,-66,-7,-34,23,-59,-20,-8,-47,2,-38,-16,-43,-244,-183,-64,-157,-143,-30,11,20,42,4,-57,62,124,63,75,-24,34,75,46,23,1,-50,65,53,71,59,54,49,32,43,-22,-27,-1,2,10,104,107,32,37,23,32,32,23,-47,18,-35,18,96,18,-34,101,64,-9,96,54,34,1,-23,-73,69,27,-4,71,10,31,47,11,16,12,-21,34,61,23,47,102,77,-56,-29,-7,-36,-20,22,8,-20,3,36,69,-21,17,-9,-29,-16,-14,-16,-3,25,52,-26,-14,-1,-11,-3,-48,-4,7,-12,-71,52,71,-50,-12,27,-24,11,52,11,45,-5,8,85,-15,24,41,-85,8,36,-43,-47,-13,-46,2,89,57,24,-5,39,null,null,-11,null,null,-22,null,null,-672,null,null,-250,null,null,216,null,null,-19,null,null,-2,null,null,122,null,null,50,null,null,16,null,null,19,null,null,-166,184,157,-131,3,55,112,148,248,185,117,437,389,37,36,-33,-60,-4,-79,9,-23,6,2,27,16,-45,-63,-19,-36,-58,-104,49,-22,-74,-45,-17,74,-97,-39,7,-67,-56,-88,30,-64,1,31,34,67,-32,-49,-108,-19,-120,-160]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>original<\/th>\n      <th>final<\/th>\n      <th>revision<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"original","targets":2},{"name":"final","targets":3},{"name":"revision","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="loading-and-cleaning-the-data-for-exporatory-analysis" class="level2">
<h2 class="anchored" data-anchor-id="loading-and-cleaning-the-data-for-exporatory-analysis">Loading and Cleaning the Data for Exporatory analysis</h2>
<p>Now that we possess both the raw and the revised datasets, we are ready to bring them together and perform a true analysis of the historic employment levels and their changes over time. As this data is not perfect and incomplete in some places after scraping, it must be cleaned and properly structured before going through the verification and later the analysis portion of MP04. Such discrepancies present in the data include entries that are outside the 1979-2025 scope and irregular entries that need to be altered in oder to be read and analyzed properly. Note that level means total recorded employement during this span.</p>
<section id="load-ces-payroll-data" class="level3">
<h3 class="anchored" data-anchor-id="load-ces-payroll-data">Load CES Payroll Data</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Display summary</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Payroll data summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Payroll data summary:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Rows:"</span>, <span class="fu">nrow</span>(ces_payroll), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 558 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Date range:"</span>, <span class="fu">min</span>(ces_payroll<span class="sc">$</span>date), <span class="st">"to"</span>, <span class="fu">max</span>(ces_payroll<span class="sc">$</span>date), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Date range: 3287 to 20240 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display as interactive datatable</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(ces_payroll, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"CES Total Nonfarm Payroll (1979-2025)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-b0908f9e63f420fe63aa" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b0908f9e63f420fe63aa">{"x":{"filter":"none","vertical":false,"caption":"<caption>CES Total Nonfarm Payroll (1979-2025)<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558"],["1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01","2025-05-01","2025-06-01"],[88808,89055,89479,89417,89789,90108,90217,90300,90327,90481,90573,90672,90800,90883,90994,90849,90420,90101,89840,90099,90213,90490,90747,90943,91033,91105,91210,91283,91296,91490,91601,91565,91477,91380,91171,90895,90565,90563,90434,90150,90107,89865,89521,89363,89183,88907,88786,88771,88990,88917,89090,89364,89644,90021,90437,90129,91247,91520,91875,92230,92673,93157,93429,93792,94098,94479,94789,95032,95344,95629,95982,96107,96372,96503,96842,97038,97312,97459,97648,97840,98045,98233,98443,98609,98732,98847,98934,99121,99248,99155,99473,99588,99934,100121,100308,100509,100678,100919,101164,101499,101728,101900,102247,102420,102647,103138,103372,103661,103753,104214,104489,104732,104962,105326,105550,105674,106013,106276,106617,106898,107161,107427,107621,107791,107913,108027,108069,108120,108369,108476,108752,108836,109196,109436,109640,109674,109828,109850,109815,109606,109523,109377,109222,109168,109058,108735,108568,108350,108253,108330,108290,108299,108335,108361,108300,108330,108365,108313,108367,108517,108647,108707,108792,108916,108952,109138,109283,109502,109790,110048,110004,110300,110571,110742,111054,111200,111449,111734,111988,112324,112601,112782,113245,113589,113922,114239,114608,114903,115247,115457,115868,116173,116505,116694,116908,117065,117047,117291,117382,117646,117873,118026,118165,118325,118317,118737,118992,119158,119496,119770,120019,120198,120400,120665,120947,121143,121357,121674,121991,122288,122560,122816,123114,123086,123575,123924,124226,124549,124806,125017,125165,125446,125846,126076,126211,126546,126744,126948,127223,127595,127699,128118,128234,128596,128813,129084,129421,129572,129772,130178,130467,130783,131011,131121,131604,131883,132105,132062,132228,132234,132338,132352,132556,132716,132703,132788,132751,132457,132409,132299,132171,132021,131763,131452,131144,130983,130859,130736,130722,130615,130632,130673,130583,130582,130503,130617,130616,130465,130573,130441,130235,130172,130196,130185,130184,130153,130253,130440,130481,130589,130756,130820,131139,131412,131697,131794,131853,131940,132091,132431,132504,132629,132781,133033,133152,133519,133689,133947,134300,134503,134554,134643,134999,135158,135426,135731,136036,136208,136249,136335,136529,136693,136829,136846,137061,137249,137472,137558,137782,137845,137993,138069,138044,138013,138101,138177,138291,138395,138391,138327,138257,138038,137851,137698,137498,137211,136762,136293,135543,134847,134078,133317,132492,131821,131468,131007,130662,130472,130247,130062,130058,129808,129802,129705,129865,130120,130643,130509,130415,130416,130342,130621,130749,130830,130837,131056,131282,131597,131704,131931,131993,132125,132344,132553,132690,132888,133245,133508,133748,133825,133933,134012,134157,134338,134517,134668,134825,135074,135257,135545,135689,135873,136095,136279,136391,136646,136821,137041,137316,137373,137561,137712,137985,138297,138512,138849,139073,139269,139563,139797,140090,140364,140568,140827,140923,141196,141538,141709,141991,142125,142275,142579,142808,143077,143210,143407,143662,143855,143900,144146,144520,144662,144967,145066,145183,145408,145628,145848,145969,146174,146380,146583,146772,146919,147007,147150,147373,147523,147660,148054,148280,148422,148740,148959,149020,149279,149358,149526,149617,149809,150059,150065,150295,150593,150621,150839,150936,151171,151365,151460,151668,151795,152031,152292,150895,130424,133040,137671,139255,140819,141770,142461,142731,142548,142913,143422,144246,144611,145032,145828,146759,147246,147712,148569,149206,149781,150006,150875,151346,151651,151892,152353,153049,153286,153513,153913,154210,154336,154780,155086,155171,155387,155614,155871,156019,156176,156334,156520,156661,156930,157049,157271,157517,157635,157828,157915,158003,158074,158314,158358,158619,158942,159053,159155,159275,159433,159452,159439]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>level<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"level","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="load-ces-revisions-data" class="level3">
<h3 class="anchored" data-anchor-id="load-ces-revisions-data">Load CES Revisions Data</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display summary</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Revisions data summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Revisions data summary:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Rows:"</span>, <span class="fu">nrow</span>(ces_revisions), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 558 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Date range:"</span>, <span class="fu">min</span>(ces_revisions<span class="sc">$</span>date), <span class="st">"to"</span>, <span class="fu">max</span>(ces_revisions<span class="sc">$</span>date), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Date range: 3287 to 20240 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display as interactive datatable</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(ces_revisions,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"CES Monthly Revisions (1979-2025)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-c1ba81f46d4f5db8d7b1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c1ba81f46d4f5db8d7b1">{"x":{"filter":"none","vertical":false,"caption":"<caption>CES Monthly Revisions (1979-2025)<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558"],["1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01","2025-05-01","2025-06-01"],[325,301,324,72,171,97,44,2,135,306,218,317,305,141,-140,-479,-180,-514,-238,201,187,257,268,205,374,51,1,-220,-16,-14,383,61,-54,-205,-237,-293,-237,97,-218,-167,-24,-141,-17,-211,-230,-263,-163,-166,339,-180,119,258,374,344,487,-411,733,320,370,231,287,386,143,407,232,301,302,159,139,441,303,309,348,119,381,217,345,80,243,288,128,414,182,320,566,226,192,206,149,-89,389,202,107,298,249,269,448,337,164,316,123,116,304,156,132,549,274,326,107,531,262,174,209,346,283,219,255,323,463,279,408,289,180,117,101,180,169,110,209,233,210,142,275,372,26,64,164,40,-219,-75,-101,-68,-267,-76,-232,-184,-206,-124,59,-50,-51,34,24,-1,-241,31,-91,164,19,126,68,-117,198,-83,-57,27,105,64,106,365,-22,119,209,13,162,-39,156,177,208,183,62,217,456,267,191,379,259,179,239,194,350,256,134,318,203,-9,-101,215,55,249,121,116,166,151,-201,705,140,2,348,239,193,250,-40,210,118,262,271,339,175,142,138,217,316,49,215,284,404,370,358,310,-36,262,296,205,66,365,69,116,267,378,245,275,46,234,11,268,310,124,-8,310,234,315,387,43,416,340,231,11,-108,-105,252,137,94,105,268,135,-86,-223,-19,-114,-42,-113,-199,-415,-331,-124,-89,66,58,43,41,36,6,39,-43,-5,-40,-101,143,-308,-108,-48,-17,-30,-44,-93,57,126,57,1,112,21,308,288,248,112,32,144,96,337,112,157,146,262,110,274,78,146,207,169,-35,56,215,108,193,243,211,138,75,121,113,128,51,92,132,167,111,97,180,88,157,132,92,-4,110,166,94,18,-17,-63,-80,-20,-49,-62,-51,-84,-159,-240,-533,-524,-598,-651,-663,-539,-345,-467,-247,-216,-263,-190,-11,-85,-20,-36,162,290,431,-125,-131,-54,-95,151,39,103,36,192,216,244,54,18,117,0,103,80,120,200,243,227,120,115,69,80,163,96,114,171,146,155,157,236,88,165,175,195,162,169,148,204,203,74,113,175,192,288,217,288,209,142,248,214,321,252,257,295,126,223,280,223,215,173,142,271,211,292,151,242,215,160,38,287,255,151,156,161,178,156,227,235,98,211,138,222,209,156,-33,261,228,148,200,313,103,164,223,213,157,201,134,250,155,312,304,20,196,263,75,224,164,130,136,128,266,145,225,273,-701,-20537,2509,4800,1763,1371,661,638,245,-140,49,379,916,266,559,850,943,235,194,531,210,199,467,678,431,428,390,372,528,315,263,261,263,223,517,311,236,253,339,209,187,187,336,150,199,216,353,275,303,175,272,206,114,142,254,12,227,256,143,151,228,177,139,147],[243,294,445,-15,291,225,87,49,41,179,118,141,411,193,-26,-193,-483,-421,-180,275,242,326,251,164,356,171,53,111,106,51,265,21,132,-201,-310,-409,-234,140,-155,-221,83,-327,-304,-223,-45,-407,-110,-185,355,-161,69,287,320,423,308,-417,1116,236,268,244,331,427,212,391,319,367,215,173,284,347,340,187,364,116,319,210,301,52,234,270,240,342,242,285,410,160,55,299,135,-75,262,178,277,266,242,254,304,228,179,269,110,110,308,149,159,549,302,327,215,538,291,261,208,568,214,154,312,236,446,222,424,276,177,213,209,297,160,120,209,75,281,118,361,373,123,-26,369,212,-89,-127,-1,-180,-267,-161,-191,-286,-258,-166,151,-2,-26,112,95,7,-230,39,-122,106,58,177,119,-73,171,-109,12,74,75,106,113,338,26,255,238,43,237,-33,197,162,216,230,-31,278,379,401,252,383,290,290,272,162,534,231,169,355,179,8,-62,299,28,263,94,68,212,145,-146,631,158,191,407,219,235,263,-2,261,181,231,259,314,182,327,163,222,384,52,300,291,429,354,399,259,82,320,328,189,118,322,172,164,277,314,217,335,83,321,28,281,373,129,103,284,257,309,394,27,527,410,171,57,-40,-79,195,66,53,36,289,136,59,-165,41,-99,18,-54,-165,-448,-355,-106,-109,-4,-5,-21,22,34,54,123,-84,69,-81,-147,203,-353,0,0,-76,-83,-57,35,99,100,83,8,159,83,353,324,208,96,85,198,119,312,132,155,124,300,122,292,126,175,277,148,17,25,354,145,154,200,175,112,100,134,123,230,203,86,196,226,162,90,175,122,188,69,93,93,44,159,60,41,-76,-83,-88,-67,-47,-100,-67,-127,-403,-423,-597,-681,-741,-681,-652,-519,-303,-463,-304,-154,-139,-127,64,-109,14,39,208,313,432,-175,-66,-1,-24,210,93,152,68,235,194,217,53,20,127,104,210,112,157,223,275,259,143,68,87,45,181,192,132,137,247,219,148,332,142,199,176,172,89,238,175,200,274,84,144,222,203,304,229,267,243,203,271,261,423,329,201,266,119,187,260,245,223,153,145,307,280,271,168,233,186,144,24,271,252,176,208,135,164,155,216,232,50,207,145,210,138,208,38,211,216,175,176,324,155,175,268,208,165,286,119,274,196,227,312,56,153,216,62,178,166,219,193,152,261,184,214,251,-1373,-20787,2725,4781,1761,1493,711,654,264,-306,233,536,785,269,614,962,1091,483,379,648,647,588,504,714,398,368,386,293,537,292,269,263,290,239,472,248,217,217,281,105,236,165,262,105,182,290,256,236,310,108,216,118,144,78,255,43,261,323,111,102,120,158,19,-13],[-82,-7,121,-87,120,128,43,47,-94,-127,-100,-176,106,52,114,286,-303,93,58,74,55,69,-17,-41,-18,120,52,331,122,65,-118,-40,186,4,-73,-116,3,43,63,-54,107,-186,-287,-12,185,-144,53,-19,16,19,-50,29,-54,79,-179,-6,383,-84,-102,13,44,41,69,-16,87,66,-87,14,145,-94,37,-122,16,-3,-62,-7,-44,-28,-9,-18,112,-72,60,-35,-156,-66,-137,93,-14,14,-127,-24,170,-32,-7,-15,-144,-109,15,-47,-13,-6,4,-7,27,0,28,1,108,7,29,87,-1,222,-69,-65,57,-87,-17,-57,16,-13,-3,96,108,117,-9,10,0,-158,71,-24,86,1,97,-90,205,172,130,-52,100,-112,0,-85,41,-102,-52,-42,92,48,25,78,71,8,11,8,-31,-58,39,51,51,44,-27,-26,69,47,-30,42,7,-27,48,136,29,30,75,6,41,-15,8,47,-93,61,-77,134,61,4,31,111,33,-32,184,-25,35,37,-24,17,39,84,-27,14,-27,-48,46,-6,55,-74,18,189,59,-20,42,13,38,51,63,-31,-12,-25,7,185,25,5,68,3,85,7,25,-16,41,-51,118,58,32,-16,52,-43,103,48,10,-64,-28,60,37,87,17,13,63,5,111,-26,23,-6,7,-16,111,70,-60,46,68,26,-57,-71,-41,-69,21,1,145,58,60,15,60,59,34,-33,-24,18,-20,-70,-63,-64,-19,-2,48,84,-41,74,-41,-46,60,-45,108,48,-59,-53,-13,128,42,-26,26,7,47,62,45,36,-40,-16,53,54,23,-25,20,-2,-22,38,12,18,48,29,70,-21,52,-31,139,37,-39,-43,-36,-26,25,13,10,102,152,-6,64,59,51,-7,-5,34,31,-63,1,97,-66,-7,-34,23,-59,-20,-8,-47,2,-38,-16,-43,-244,-183,-64,-157,-143,-30,11,20,42,4,-57,62,124,63,75,-24,34,75,46,23,1,-50,65,53,71,59,54,49,32,43,-22,-27,-1,2,10,104,107,32,37,23,32,32,23,-47,18,-35,18,96,18,-34,101,64,-9,96,54,34,1,-23,-73,69,27,-4,71,10,31,47,11,16,12,-21,34,61,23,47,102,77,-56,-29,-7,-36,-20,22,8,-20,3,36,69,-21,17,-9,-29,-16,-14,-16,-3,25,52,-26,-14,-1,-11,-3,-48,-4,7,-12,-71,52,71,-50,-12,27,-24,11,52,11,45,-5,8,85,-15,24,41,-85,8,36,-43,-47,-13,-46,2,89,57,24,-5,39,-11,-22,-672,-250,216,-19,-2,122,50,16,19,-166,184,157,-131,3,55,112,148,248,185,117,437,389,37,36,-33,-60,-4,-79,9,-23,6,2,27,16,-45,-63,-19,-36,-58,-104,49,-22,-74,-45,-17,74,-97,-39,7,-67,-56,-88,30,-64,1,31,34,67,-32,-49,-108,-19,-120,-160]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>original<\/th>\n      <th>final<\/th>\n      <th>revision<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"original","targets":2},{"name":"final","targets":3},{"name":"revision","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="combine-payroll-and-revisions" class="level3">
<h3 class="anchored" data-anchor-id="combine-payroll-and-revisions">Combine Payroll and Revisions</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Join the two datasets on date</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>ces_combined <span class="ot">&lt;-</span> ces_payroll <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(ces_revisions, <span class="at">by =</span> <span class="st">"date"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Display combined dataset summary</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Combined dataset summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Combined dataset summary:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Rows:"</span>, <span class="fu">nrow</span>(ces_combined), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 558 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Columns:"</span>, <span class="fu">paste</span>(<span class="fu">colnames</span>(ces_combined), <span class="at">collapse =</span> <span class="st">", "</span>), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Columns: date, level, original, final, revision </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display as interactive datatable</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(ces_combined,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Combined CES Payroll and Revisions Data"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-900ffc9636f9e51c938b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-900ffc9636f9e51c938b">{"x":{"filter":"none","vertical":false,"caption":"<caption>Combined CES Payroll and Revisions Data<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558"],["1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01","2025-05-01","2025-06-01"],[88808,89055,89479,89417,89789,90108,90217,90300,90327,90481,90573,90672,90800,90883,90994,90849,90420,90101,89840,90099,90213,90490,90747,90943,91033,91105,91210,91283,91296,91490,91601,91565,91477,91380,91171,90895,90565,90563,90434,90150,90107,89865,89521,89363,89183,88907,88786,88771,88990,88917,89090,89364,89644,90021,90437,90129,91247,91520,91875,92230,92673,93157,93429,93792,94098,94479,94789,95032,95344,95629,95982,96107,96372,96503,96842,97038,97312,97459,97648,97840,98045,98233,98443,98609,98732,98847,98934,99121,99248,99155,99473,99588,99934,100121,100308,100509,100678,100919,101164,101499,101728,101900,102247,102420,102647,103138,103372,103661,103753,104214,104489,104732,104962,105326,105550,105674,106013,106276,106617,106898,107161,107427,107621,107791,107913,108027,108069,108120,108369,108476,108752,108836,109196,109436,109640,109674,109828,109850,109815,109606,109523,109377,109222,109168,109058,108735,108568,108350,108253,108330,108290,108299,108335,108361,108300,108330,108365,108313,108367,108517,108647,108707,108792,108916,108952,109138,109283,109502,109790,110048,110004,110300,110571,110742,111054,111200,111449,111734,111988,112324,112601,112782,113245,113589,113922,114239,114608,114903,115247,115457,115868,116173,116505,116694,116908,117065,117047,117291,117382,117646,117873,118026,118165,118325,118317,118737,118992,119158,119496,119770,120019,120198,120400,120665,120947,121143,121357,121674,121991,122288,122560,122816,123114,123086,123575,123924,124226,124549,124806,125017,125165,125446,125846,126076,126211,126546,126744,126948,127223,127595,127699,128118,128234,128596,128813,129084,129421,129572,129772,130178,130467,130783,131011,131121,131604,131883,132105,132062,132228,132234,132338,132352,132556,132716,132703,132788,132751,132457,132409,132299,132171,132021,131763,131452,131144,130983,130859,130736,130722,130615,130632,130673,130583,130582,130503,130617,130616,130465,130573,130441,130235,130172,130196,130185,130184,130153,130253,130440,130481,130589,130756,130820,131139,131412,131697,131794,131853,131940,132091,132431,132504,132629,132781,133033,133152,133519,133689,133947,134300,134503,134554,134643,134999,135158,135426,135731,136036,136208,136249,136335,136529,136693,136829,136846,137061,137249,137472,137558,137782,137845,137993,138069,138044,138013,138101,138177,138291,138395,138391,138327,138257,138038,137851,137698,137498,137211,136762,136293,135543,134847,134078,133317,132492,131821,131468,131007,130662,130472,130247,130062,130058,129808,129802,129705,129865,130120,130643,130509,130415,130416,130342,130621,130749,130830,130837,131056,131282,131597,131704,131931,131993,132125,132344,132553,132690,132888,133245,133508,133748,133825,133933,134012,134157,134338,134517,134668,134825,135074,135257,135545,135689,135873,136095,136279,136391,136646,136821,137041,137316,137373,137561,137712,137985,138297,138512,138849,139073,139269,139563,139797,140090,140364,140568,140827,140923,141196,141538,141709,141991,142125,142275,142579,142808,143077,143210,143407,143662,143855,143900,144146,144520,144662,144967,145066,145183,145408,145628,145848,145969,146174,146380,146583,146772,146919,147007,147150,147373,147523,147660,148054,148280,148422,148740,148959,149020,149279,149358,149526,149617,149809,150059,150065,150295,150593,150621,150839,150936,151171,151365,151460,151668,151795,152031,152292,150895,130424,133040,137671,139255,140819,141770,142461,142731,142548,142913,143422,144246,144611,145032,145828,146759,147246,147712,148569,149206,149781,150006,150875,151346,151651,151892,152353,153049,153286,153513,153913,154210,154336,154780,155086,155171,155387,155614,155871,156019,156176,156334,156520,156661,156930,157049,157271,157517,157635,157828,157915,158003,158074,158314,158358,158619,158942,159053,159155,159275,159433,159452,159439],[325,301,324,72,171,97,44,2,135,306,218,317,305,141,-140,-479,-180,-514,-238,201,187,257,268,205,374,51,1,-220,-16,-14,383,61,-54,-205,-237,-293,-237,97,-218,-167,-24,-141,-17,-211,-230,-263,-163,-166,339,-180,119,258,374,344,487,-411,733,320,370,231,287,386,143,407,232,301,302,159,139,441,303,309,348,119,381,217,345,80,243,288,128,414,182,320,566,226,192,206,149,-89,389,202,107,298,249,269,448,337,164,316,123,116,304,156,132,549,274,326,107,531,262,174,209,346,283,219,255,323,463,279,408,289,180,117,101,180,169,110,209,233,210,142,275,372,26,64,164,40,-219,-75,-101,-68,-267,-76,-232,-184,-206,-124,59,-50,-51,34,24,-1,-241,31,-91,164,19,126,68,-117,198,-83,-57,27,105,64,106,365,-22,119,209,13,162,-39,156,177,208,183,62,217,456,267,191,379,259,179,239,194,350,256,134,318,203,-9,-101,215,55,249,121,116,166,151,-201,705,140,2,348,239,193,250,-40,210,118,262,271,339,175,142,138,217,316,49,215,284,404,370,358,310,-36,262,296,205,66,365,69,116,267,378,245,275,46,234,11,268,310,124,-8,310,234,315,387,43,416,340,231,11,-108,-105,252,137,94,105,268,135,-86,-223,-19,-114,-42,-113,-199,-415,-331,-124,-89,66,58,43,41,36,6,39,-43,-5,-40,-101,143,-308,-108,-48,-17,-30,-44,-93,57,126,57,1,112,21,308,288,248,112,32,144,96,337,112,157,146,262,110,274,78,146,207,169,-35,56,215,108,193,243,211,138,75,121,113,128,51,92,132,167,111,97,180,88,157,132,92,-4,110,166,94,18,-17,-63,-80,-20,-49,-62,-51,-84,-159,-240,-533,-524,-598,-651,-663,-539,-345,-467,-247,-216,-263,-190,-11,-85,-20,-36,162,290,431,-125,-131,-54,-95,151,39,103,36,192,216,244,54,18,117,0,103,80,120,200,243,227,120,115,69,80,163,96,114,171,146,155,157,236,88,165,175,195,162,169,148,204,203,74,113,175,192,288,217,288,209,142,248,214,321,252,257,295,126,223,280,223,215,173,142,271,211,292,151,242,215,160,38,287,255,151,156,161,178,156,227,235,98,211,138,222,209,156,-33,261,228,148,200,313,103,164,223,213,157,201,134,250,155,312,304,20,196,263,75,224,164,130,136,128,266,145,225,273,-701,-20537,2509,4800,1763,1371,661,638,245,-140,49,379,916,266,559,850,943,235,194,531,210,199,467,678,431,428,390,372,528,315,263,261,263,223,517,311,236,253,339,209,187,187,336,150,199,216,353,275,303,175,272,206,114,142,254,12,227,256,143,151,228,177,139,147],[243,294,445,-15,291,225,87,49,41,179,118,141,411,193,-26,-193,-483,-421,-180,275,242,326,251,164,356,171,53,111,106,51,265,21,132,-201,-310,-409,-234,140,-155,-221,83,-327,-304,-223,-45,-407,-110,-185,355,-161,69,287,320,423,308,-417,1116,236,268,244,331,427,212,391,319,367,215,173,284,347,340,187,364,116,319,210,301,52,234,270,240,342,242,285,410,160,55,299,135,-75,262,178,277,266,242,254,304,228,179,269,110,110,308,149,159,549,302,327,215,538,291,261,208,568,214,154,312,236,446,222,424,276,177,213,209,297,160,120,209,75,281,118,361,373,123,-26,369,212,-89,-127,-1,-180,-267,-161,-191,-286,-258,-166,151,-2,-26,112,95,7,-230,39,-122,106,58,177,119,-73,171,-109,12,74,75,106,113,338,26,255,238,43,237,-33,197,162,216,230,-31,278,379,401,252,383,290,290,272,162,534,231,169,355,179,8,-62,299,28,263,94,68,212,145,-146,631,158,191,407,219,235,263,-2,261,181,231,259,314,182,327,163,222,384,52,300,291,429,354,399,259,82,320,328,189,118,322,172,164,277,314,217,335,83,321,28,281,373,129,103,284,257,309,394,27,527,410,171,57,-40,-79,195,66,53,36,289,136,59,-165,41,-99,18,-54,-165,-448,-355,-106,-109,-4,-5,-21,22,34,54,123,-84,69,-81,-147,203,-353,0,0,-76,-83,-57,35,99,100,83,8,159,83,353,324,208,96,85,198,119,312,132,155,124,300,122,292,126,175,277,148,17,25,354,145,154,200,175,112,100,134,123,230,203,86,196,226,162,90,175,122,188,69,93,93,44,159,60,41,-76,-83,-88,-67,-47,-100,-67,-127,-403,-423,-597,-681,-741,-681,-652,-519,-303,-463,-304,-154,-139,-127,64,-109,14,39,208,313,432,-175,-66,-1,-24,210,93,152,68,235,194,217,53,20,127,104,210,112,157,223,275,259,143,68,87,45,181,192,132,137,247,219,148,332,142,199,176,172,89,238,175,200,274,84,144,222,203,304,229,267,243,203,271,261,423,329,201,266,119,187,260,245,223,153,145,307,280,271,168,233,186,144,24,271,252,176,208,135,164,155,216,232,50,207,145,210,138,208,38,211,216,175,176,324,155,175,268,208,165,286,119,274,196,227,312,56,153,216,62,178,166,219,193,152,261,184,214,251,-1373,-20787,2725,4781,1761,1493,711,654,264,-306,233,536,785,269,614,962,1091,483,379,648,647,588,504,714,398,368,386,293,537,292,269,263,290,239,472,248,217,217,281,105,236,165,262,105,182,290,256,236,310,108,216,118,144,78,255,43,261,323,111,102,120,158,19,-13],[-82,-7,121,-87,120,128,43,47,-94,-127,-100,-176,106,52,114,286,-303,93,58,74,55,69,-17,-41,-18,120,52,331,122,65,-118,-40,186,4,-73,-116,3,43,63,-54,107,-186,-287,-12,185,-144,53,-19,16,19,-50,29,-54,79,-179,-6,383,-84,-102,13,44,41,69,-16,87,66,-87,14,145,-94,37,-122,16,-3,-62,-7,-44,-28,-9,-18,112,-72,60,-35,-156,-66,-137,93,-14,14,-127,-24,170,-32,-7,-15,-144,-109,15,-47,-13,-6,4,-7,27,0,28,1,108,7,29,87,-1,222,-69,-65,57,-87,-17,-57,16,-13,-3,96,108,117,-9,10,0,-158,71,-24,86,1,97,-90,205,172,130,-52,100,-112,0,-85,41,-102,-52,-42,92,48,25,78,71,8,11,8,-31,-58,39,51,51,44,-27,-26,69,47,-30,42,7,-27,48,136,29,30,75,6,41,-15,8,47,-93,61,-77,134,61,4,31,111,33,-32,184,-25,35,37,-24,17,39,84,-27,14,-27,-48,46,-6,55,-74,18,189,59,-20,42,13,38,51,63,-31,-12,-25,7,185,25,5,68,3,85,7,25,-16,41,-51,118,58,32,-16,52,-43,103,48,10,-64,-28,60,37,87,17,13,63,5,111,-26,23,-6,7,-16,111,70,-60,46,68,26,-57,-71,-41,-69,21,1,145,58,60,15,60,59,34,-33,-24,18,-20,-70,-63,-64,-19,-2,48,84,-41,74,-41,-46,60,-45,108,48,-59,-53,-13,128,42,-26,26,7,47,62,45,36,-40,-16,53,54,23,-25,20,-2,-22,38,12,18,48,29,70,-21,52,-31,139,37,-39,-43,-36,-26,25,13,10,102,152,-6,64,59,51,-7,-5,34,31,-63,1,97,-66,-7,-34,23,-59,-20,-8,-47,2,-38,-16,-43,-244,-183,-64,-157,-143,-30,11,20,42,4,-57,62,124,63,75,-24,34,75,46,23,1,-50,65,53,71,59,54,49,32,43,-22,-27,-1,2,10,104,107,32,37,23,32,32,23,-47,18,-35,18,96,18,-34,101,64,-9,96,54,34,1,-23,-73,69,27,-4,71,10,31,47,11,16,12,-21,34,61,23,47,102,77,-56,-29,-7,-36,-20,22,8,-20,3,36,69,-21,17,-9,-29,-16,-14,-16,-3,25,52,-26,-14,-1,-11,-3,-48,-4,7,-12,-71,52,71,-50,-12,27,-24,11,52,11,45,-5,8,85,-15,24,41,-85,8,36,-43,-47,-13,-46,2,89,57,24,-5,39,-11,-22,-672,-250,216,-19,-2,122,50,16,19,-166,184,157,-131,3,55,112,148,248,185,117,437,389,37,36,-33,-60,-4,-79,9,-23,6,2,27,16,-45,-63,-19,-36,-58,-104,49,-22,-74,-45,-17,74,-97,-39,7,-67,-56,-88,30,-64,1,31,34,67,-32,-49,-108,-19,-120,-160]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>level<\/th>\n      <th>original<\/th>\n      <th>final<\/th>\n      <th>revision<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"level","targets":2},{"name":"original","targets":3},{"name":"final","targets":4},{"name":"revision","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
</section>
<section id="task-3-data-exploration-and-visualizaton" class="level1">
<h1>Task 3: Data Exploration and Visualizaton</h1>
<p>Now that we have the data loaded, it is time to analyze the two sets for statistics and visualizations of various trends and infographs over the last 45 years of data collection.</p>
<section id="statisitcal-ces-statisitics" class="level2">
<h2 class="anchored" data-anchor-id="statisitcal-ces-statisitics">Statisitcal CES Statisitics:</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create ces_stats from ces_combined</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>ces_stats <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">decade =</span> <span class="fu">floor</span>(year <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_revision =</span> <span class="fu">abs</span>(revision),</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_revision =</span> (abs_revision <span class="sc">/</span> final) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">positive_revision =</span> revision <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data with era classification</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>ces_analysis <span class="ot">&lt;-</span> ces_stats <span class="sc">|&gt;</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">era =</span> <span class="fu">case_when</span>(</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&lt;</span> <span class="dv">2000</span> <span class="sc">~</span> <span class="st">"Pre-2000"</span>,</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&gt;=</span> <span class="dv">2000</span> <span class="sc">&amp;</span> year <span class="sc">&lt;</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"2000-2019"</span>,</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&gt;=</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"Post-2020"</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Create ces_stats from ces_combined</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>ces_stats <span class="ot">&lt;-</span> ces_combined <span class="sc">|&gt;</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">decade =</span> <span class="fu">floor</span>(year <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_revision =</span> <span class="fu">abs</span>(revision),</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_revision =</span> (abs_revision <span class="sc">/</span> final) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">positive_revision =</span> revision <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data with era classification</span></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>ces_analysis <span class="ot">&lt;-</span> ces_stats <span class="sc">|&gt;</span></span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">era =</span> <span class="fu">case_when</span>(</span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&lt;</span> <span class="dv">2000</span> <span class="sc">~</span> <span class="st">"Pre-2000"</span>,</span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&gt;=</span> <span class="dv">2000</span> <span class="sc">&amp;</span> year <span class="sc">&lt;</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"2000-2019"</span>,</span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&gt;=</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"Post-2020"</span></span>
<span id="cb32-44"><a href="#cb32-44" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-45"><a href="#cb32-45" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-46"><a href="#cb32-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-47"><a href="#cb32-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-48"><a href="#cb32-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Add presidential partisan data</span></span>
<span id="cb32-49"><a href="#cb32-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-50"><a href="#cb32-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb32-51"><a href="#cb32-51" aria-hidden="true" tabindex="-1"></a>presidents_party <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">expand_grid</span>(<span class="at">year=</span><span class="dv">1979</span><span class="sc">:</span><span class="dv">2025</span>, </span>
<span id="cb32-52"><a href="#cb32-52" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">month =</span> month.name, </span>
<span id="cb32-53"><a href="#cb32-53" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">president =</span> <span class="cn">NA</span>, </span>
<span id="cb32-54"><a href="#cb32-54" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">party =</span> <span class="cn">NA</span>) <span class="sc">|&gt;</span> </span>
<span id="cb32-55"><a href="#cb32-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">president =</span> <span class="fu">case_when</span>(</span>
<span id="cb32-56"><a href="#cb32-56" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"January"</span>)  <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1979</span>) <span class="sc">~</span> <span class="st">"Carter"</span>,</span>
<span id="cb32-57"><a href="#cb32-57" aria-hidden="true" tabindex="-1"></a>        <span class="co"># BLS jobs reports come out on the first Friday, so February</span></span>
<span id="cb32-58"><a href="#cb32-58" aria-hidden="true" tabindex="-1"></a>        <span class="co"># is the first time a new president 'owns' the jobs number </span></span>
<span id="cb32-59"><a href="#cb32-59" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1981</span>) <span class="sc">~</span> <span class="st">"Reagan"</span>,</span>
<span id="cb32-60"><a href="#cb32-60" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1989</span>) <span class="sc">~</span> <span class="st">"Bush 41"</span>,</span>
<span id="cb32-61"><a href="#cb32-61" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">1993</span>) <span class="sc">~</span> <span class="st">"Clinton"</span>,</span>
<span id="cb32-62"><a href="#cb32-62" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2001</span>) <span class="sc">~</span> <span class="st">"Bush 43"</span>,</span>
<span id="cb32-63"><a href="#cb32-63" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2009</span>) <span class="sc">~</span> <span class="st">"Obama"</span>,</span>
<span id="cb32-64"><a href="#cb32-64" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2017</span>) <span class="sc">~</span> <span class="st">"Trump I"</span>,</span>
<span id="cb32-65"><a href="#cb32-65" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">~</span> <span class="st">"Biden"</span>,</span>
<span id="cb32-66"><a href="#cb32-66" aria-hidden="true" tabindex="-1"></a>        (month <span class="sc">==</span> <span class="st">"February"</span>) <span class="sc">&amp;</span> (year <span class="sc">==</span> <span class="dv">2025</span>) <span class="sc">~</span> <span class="st">"Trump II"</span>,</span>
<span id="cb32-67"><a href="#cb32-67" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">|&gt;</span></span>
<span id="cb32-68"><a href="#cb32-68" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">fill</span>(president) <span class="sc">|&gt;</span></span>
<span id="cb32-69"><a href="#cb32-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">party =</span> <span class="fu">if_else</span>(president <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Carter"</span>, <span class="st">"Clinton"</span>, <span class="st">"Obama"</span>, <span class="st">"Biden"</span>), </span>
<span id="cb32-70"><a href="#cb32-70" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"D"</span>, </span>
<span id="cb32-71"><a href="#cb32-71" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"R"</span>)) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="analysis-1-largest-positive-and-negative-revisions-by-era" class="level3">
<h3 class="anchored" data-anchor-id="analysis-1-largest-positive-and-negative-revisions-by-era">Analysis 1: Largest Positive and Negative Revisions by Era</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>largest_by_era <span class="ot">&lt;-</span> ces_analysis <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(era) <span class="sc">|&gt;</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_positive =</span> <span class="fu">max</span>(revision),</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_negative =</span> <span class="fu">min</span>(revision),</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision),</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_abs_revision =</span> <span class="fu">median</span>(abs_revision),</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_abs_revision =</span> <span class="fu">sd</span>(abs_revision),</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months =</span> <span class="fu">n</span>(),</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(era, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Pre-2000"</span>, <span class="st">"2000-2019"</span>, <span class="st">"Post-2020"</span>)))</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(largest_by_era, </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Largest Revisions and Summary Statistics by Era"</span>,</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e407d1c2002bb3afb08e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e407d1c2002bb3afb08e">{"x":{"filter":"none","vertical":false,"caption":"<caption>Largest Revisions and Summary Statistics by Era<\/caption>","data":[["1","2","3"],["Pre-2000","2000-2019","Post-2020"],[383,152,437],[-303,-244,-672],[63.33333333333338,41.875,86.93939393939391],[48,34.5,49.5],[60.00697170651475,34.68641649896612,112.3109527897886],[252,240,66]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>era<\/th>\n      <th>max_positive<\/th>\n      <th>min_negative<\/th>\n      <th>mean_abs_revision<\/th>\n      <th>median_abs_revision<\/th>\n      <th>sd_abs_revision<\/th>\n      <th>n_months<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"era","targets":1},{"name":"max_positive","targets":2},{"name":"min_negative","targets":3},{"name":"mean_abs_revision","targets":4},{"name":"median_abs_revision","targets":5},{"name":"sd_abs_revision","targets":6},{"name":"n_months","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find specific dates of largest revisions in each era</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">Detailed breakdown of largest revisions:</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

Detailed breakdown of largest revisions:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (e <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"Pre-2000"</span>, <span class="st">"2000-2019"</span>, <span class="st">"Post-2020"</span>)) {</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"--- "</span>, e, <span class="st">" ---</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  era_data <span class="ot">&lt;-</span> ces_analysis <span class="sc">|&gt;</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(era <span class="sc">==</span> e, <span class="sc">!</span><span class="fu">is.na</span>(revision))</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  largest_pos <span class="ot">&lt;-</span> era_data <span class="sc">|&gt;</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(revision <span class="sc">==</span> <span class="fu">max</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(date, revision, final, pct_revision) <span class="sc">|&gt;</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">type =</span> <span class="st">"Largest Positive"</span>)</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  largest_neg <span class="ot">&lt;-</span> era_data <span class="sc">|&gt;</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(revision <span class="sc">==</span> <span class="fu">min</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(date, revision, final, pct_revision) <span class="sc">|&gt;</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">type =</span> <span class="st">"Largest Negative"</span>)</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">bind_rows</span>(largest_pos, largest_neg))</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>---  Pre-2000  ---
# A tibble: 2 × 5
  date       revision final pct_revision type            
  &lt;date&gt;        &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;           
1 1983-09-01      383  1116         34.3 Largest Positive
2 1980-05-01     -303  -483        -62.7 Largest Negative

---  2000-2019  ---
# A tibble: 2 × 5
  date       revision final pct_revision type            
  &lt;date&gt;        &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;           
1 2006-09-01      152   203         74.9 Largest Positive
2 2008-09-01     -244  -403        -60.5 Largest Negative

---  Post-2020  ---
# A tibble: 2 × 5
  date       revision final pct_revision type            
  &lt;date&gt;        &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;           
1 2021-11-01      437   647         67.5 Largest Positive
2 2020-03-01     -672 -1373        -48.9 Largest Negative</code></pre>
</div>
</div>
</section>
<section id="analysis-2-top-10-largest-negative-revisions-all-time" class="level3">
<h3 class="anchored" data-anchor-id="analysis-2-top-10-largest-negative-revisions-all-time">Analysis 2: Top 10 Largest Negative Revisions (All Time)</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>top_10_negative <span class="ot">&lt;-</span> ces_analysis <span class="sc">|&gt;</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_abbr =</span> <span class="fu">as.character</span>(<span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">month =</span> month.name[<span class="fu">month</span>(date)]  <span class="co"># Convert abbreviation to full name</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    presidents_party <span class="sc">|&gt;</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">as.character</span>(month)),</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"year"</span> <span class="ot">=</span> <span class="st">"year"</span>, <span class="st">"month"</span> <span class="ot">=</span> <span class="st">"month"</span>)</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(revision) <span class="sc">|&gt;</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>) <span class="sc">|&gt;</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, year, month, president, party, revision, final, pct_revision, era) <span class="sc">|&gt;</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank =</span> <span class="fu">row_number</span>())</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(top_10_negative,</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Top 50 Largest Negative (Downward) Revisions"</span>,</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a4f7979f9178584d6f66" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a4f7979f9178584d6f66">{"x":{"filter":"none","vertical":false,"caption":"<caption>Top 50 Largest Negative (Downward) Revisions<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["2020-03-01","1980-05-01","1982-07-01","2020-04-01","2008-09-01","1982-06-01","2008-10-01","1983-07-01","1979-12-01","2020-12-01","2025-06-01","1989-10-01","2008-12-01","1986-01-01","1982-10-01","1987-01-01","2009-01-01","1986-03-01","2021-03-01","1979-10-01","1986-07-01","1984-12-01","2025-05-01","1981-07-01","1981-12-01","1990-10-01","1987-02-01","2025-03-01","2023-06-01","1983-11-01","1991-02-01","1979-11-01","2024-01-01","1979-09-01","1984-10-01","1994-01-01","1990-04-01","2024-06-01","1979-04-01","1984-07-01","1988-10-01","1990-12-01","2018-12-01","1983-10-01","1979-01-01","2022-06-01","1994-03-01","1996-02-01","2023-09-01","1981-11-01"],[2020,1980,1982,2020,2008,1982,2008,1983,1979,2020,2025,1989,2008,1986,1982,1987,2009,1986,2021,1979,1986,1984,2025,1981,1981,1990,1987,2025,2023,1983,1991,1979,2024,1979,1984,1994,1990,2024,1979,1984,1988,1990,2018,1983,1979,2022,1994,1996,2023,1981],["March","May","July","April","September","June","October","July","December","December","June","October","December","January","October","January","January","March","March","October","July","December","May","July","December","October","February","March","June","November","February","November","January","September","October","January","April","June","April","July","October","December","December","October","January","June","March","February","September","November"],["Trump I","Carter","Reagan","Trump I","Bush 43","Reagan","Bush 43","Reagan","Carter","Trump I","Trump II","Bush 41","Bush 43","Reagan","Reagan","Reagan","Bush 43","Reagan","Biden","Carter","Reagan","Reagan","Trump II","Reagan","Reagan","Bush 41","Reagan","Trump II","Biden","Reagan","Bush 41","Carter","Biden","Carter","Reagan","Clinton","Bush 41","Biden","Carter","Reagan","Reagan","Bush 41","Trump I","Reagan","Carter","Biden","Clinton","Clinton","Biden","Reagan"],["R","D","R","R","R","R","R","R","D","R","R","R","R","R","R","R","R","R","D","D","R","R","R","R","R","R","R","R","D","R","R","D","D","D","R","D","R","D","D","R","R","R","R","R","D","D","D","D","D","R"],[-672,-303,-287,-250,-244,-186,-183,-179,-176,-166,-160,-158,-157,-156,-144,-144,-143,-137,-131,-127,-127,-122,-120,-118,-116,-112,-109,-108,-104,-102,-102,-100,-97,-94,-94,-93,-90,-88,-87,-87,-87,-85,-85,-84,-82,-79,-77,-74,-74,-73],[-1373,-483,-304,-20787,-403,-327,-423,308,141,-306,-13,75,-681,410,-407,304,-741,55,785,179,262,187,19,265,-409,-180,228,120,105,268,-286,118,256,41,347,-31,-26,118,-15,215,236,-161,227,236,243,293,379,631,262,-310],[-48.94391842680263,-62.73291925465838,-94.4078947368421,-1.202674748640978,-60.54590570719603,-56.88073394495413,-43.26241134751773,58.11688311688312,124.822695035461,-54.24836601307189,-1230.769230769231,210.6666666666667,-23.05433186490455,38.04878048780488,-35.38083538083538,47.36842105263158,-19.29824561403509,249.0909090909091,16.68789808917197,70.94972067039106,48.47328244274809,65.24064171122996,631.578947368421,44.52830188679246,-28.36185819070904,-62.22222222222222,47.80701754385965,90,99.04761904761905,38.05970149253731,-35.66433566433567,84.7457627118644,37.890625,229.2682926829268,27.0893371757925,-300,-346.1538461538462,74.57627118644068,-580,40.46511627906977,36.86440677966102,-52.79503105590062,37.44493392070485,35.59322033898305,33.74485596707819,26.96245733788396,20.31662269129288,11.72741679873217,28.24427480916031,-23.54838709677419],["Post-2020","Pre-2000","Pre-2000","Post-2020","2000-2019","Pre-2000","2000-2019","Pre-2000","Pre-2000","Post-2020","Post-2020","Pre-2000","2000-2019","Pre-2000","Pre-2000","Pre-2000","2000-2019","Pre-2000","Post-2020","Pre-2000","Pre-2000","Pre-2000","Post-2020","Pre-2000","Pre-2000","Pre-2000","Pre-2000","Post-2020","Post-2020","Pre-2000","Pre-2000","Pre-2000","Post-2020","Pre-2000","Pre-2000","Pre-2000","Pre-2000","Post-2020","Pre-2000","Pre-2000","Pre-2000","Pre-2000","2000-2019","Pre-2000","Pre-2000","Post-2020","Pre-2000","Pre-2000","Post-2020","Pre-2000"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>president<\/th>\n      <th>party<\/th>\n      <th>revision<\/th>\n      <th>final<\/th>\n      <th>pct_revision<\/th>\n      <th>era<\/th>\n      <th>rank<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,6,7,8,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"date","targets":1},{"name":"year","targets":2},{"name":"month","targets":3},{"name":"president","targets":4},{"name":"party","targets":5},{"name":"revision","targets":6},{"name":"final","targets":7},{"name":"pct_revision","targets":8},{"name":"era","targets":9},{"name":"rank","targets":10}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="analysis-3-pre-2020-vs-post-2020-average-revision-comparison" class="level3">
<h3 class="anchored" data-anchor-id="analysis-3-pre-2020-vs-post-2020-average-revision-comparison">Analysis 3: Pre-2020 vs Post-2020 Average % Revision Comparison</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"(DIRECTLY ADDRESSES TRUMP'S CONCERN OF COOKING THE BOOKS)</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(DIRECTLY ADDRESSES TRUMP'S CONCERN OF COOKING THE BOOKS)</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>era_comparison <span class="ot">&lt;-</span> ces_analysis <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision) <span class="sc">&amp;</span> final <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span>  <span class="co"># Add filter for final &gt; 0</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pre_post =</span> <span class="fu">if_else</span>(year <span class="sc">&lt;</span> <span class="dv">2020</span>, <span class="st">"Pre-2020"</span>, <span class="st">"Post-2020"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pre_post) <span class="sc">|&gt;</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pct_revision =</span> <span class="fu">mean</span>(pct_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_abs_revision =</span> <span class="fu">median</span>(abs_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pct_revision =</span> <span class="fu">sd</span>(pct_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months =</span> <span class="fu">n</span>(),</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(era_comparison,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Pre-2020 vs Post-2020 Revision Comparison"</span>,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7246e13e319fa08c65fc" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7246e13e319fa08c65fc">{"x":{"filter":"none","vertical":false,"caption":"<caption>Pre-2020 vs Post-2020 Revision Comparison<\/caption>","data":[["1","2"],["Post-2020","Pre-2020"],[20.61290322580648,19.38095238095237],[72.41935483870968,49.88220551378455],[34.05984876140766,38.44430955423352],[47,37],[81.19587824992776,57.72464600660028],[62,399]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>pre_post<\/th>\n      <th>mean_revision<\/th>\n      <th>mean_abs_revision<\/th>\n      <th>mean_pct_revision<\/th>\n      <th>median_abs_revision<\/th>\n      <th>sd_pct_revision<\/th>\n      <th>n_months<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"pre_post","targets":1},{"name":"mean_revision","targets":2},{"name":"mean_abs_revision","targets":3},{"name":"mean_pct_revision","targets":4},{"name":"median_abs_revision","targets":5},{"name":"sd_pct_revision","targets":6},{"name":"n_months","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the difference</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>pre_2020_mean <span class="ot">&lt;-</span> era_comparison <span class="sc">|&gt;</span> <span class="fu">filter</span>(pre_post <span class="sc">==</span> <span class="st">"Pre-2020"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(mean_pct_revision)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>post_2020_mean <span class="ot">&lt;-</span> era_comparison <span class="sc">|&gt;</span> <span class="fu">filter</span>(pre_post <span class="sc">==</span> <span class="st">"Post-2020"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(mean_pct_revision)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>difference <span class="ot">&lt;-</span> post_2020_mean <span class="sc">-</span> pre_2020_mean</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>pct_increase <span class="ot">&lt;-</span> (difference <span class="sc">/</span> pre_2020_mean) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">KEY FINDING:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

KEY FINDING:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Pre-2020 average % revision:"</span>, <span class="fu">round</span>(pre_2020_mean, <span class="dv">4</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Pre-2020 average % revision: 38.4443 %</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Post-2020 average % revision:"</span>, <span class="fu">round</span>(post_2020_mean, <span class="dv">4</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Post-2020 average % revision: 34.0598 %</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Difference:"</span>, <span class="fu">round</span>(difference, <span class="dv">4</span>), <span class="st">"percentage points</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Difference: -4.3845 percentage points</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Percent decrease:"</span>, <span class="fu">round</span>(pct_increase, <span class="dv">2</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Percent decrease: -11.4 %</code></pre>
</div>
</div>
</section>
<section id="analysis-4-which-calendar-months-overall-have-highest-positive-revisions" class="level3">
<h3 class="anchored" data-anchor-id="analysis-4-which-calendar-months-overall-have-highest-positive-revisions">Analysis 4: Which Calendar Months Overall Have Highest % Positive Revisions?</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>monthly_pattern <span class="ot">&lt;-</span> ces_analysis <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_name =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_name) <span class="sc">|&gt;</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_positive =</span> <span class="fu">mean</span>(positive_revision) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_negative =</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">mean</span>(positive_revision)) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_total =</span> <span class="fu">n</span>(),</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_abs_revision =</span> <span class="fu">mean</span>(abs_revision),</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(pct_positive))</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(monthly_pattern,</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Seasonal Patterns: % of Positive vs Negative Revisions by Month"</span>,</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">12</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7dd98c2b28a9d51ac605" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7dd98c2b28a9d51ac605">{"x":{"filter":"none","vertical":false,"caption":"<caption>Seasonal Patterns: % of Positive vs Negative Revisions by Month<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["Sep","Aug","Jul","Nov","May","Jan","Mar","Apr","Jun","Feb","Dec","Oct"],[80.43478260869566,65.21739130434783,63.04347826086957,63.04347826086957,61.70212765957447,55.31914893617022,55.31914893617022,55.31914893617022,51.06382978723404,46.80851063829788,45.65217391304348,41.30434782608695],[19.56521739130434,34.78260869565217,36.95652173913043,36.95652173913043,38.29787234042553,44.68085106382978,44.68085106382978,44.68085106382978,48.93617021276596,53.19148936170212,54.34782608695652,58.69565217391304],[46,46,46,46,47,47,47,47,47,47,46,46],[80.15217391304347,53.84782608695653,53.39130434782609,55.06521739130435,55.53191489361703,48.23404255319149,65.55319148936171,68.91489361702126,53.46808510638297,43.72340425531915,54.32608695652173,50.67391304347827]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>month_name<\/th>\n      <th>pct_positive<\/th>\n      <th>pct_negative<\/th>\n      <th>n_total<\/th>\n      <th>mean_abs_revision<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":12,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"month_name","targets":1},{"name":"pct_positive","targets":2},{"name":"pct_negative","targets":3},{"name":"n_total","targets":4},{"name":"mean_abs_revision","targets":5}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,12,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">INTERPRETATION:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

INTERPRETATION:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Months with HIGHEST % positive revisions (upward revisions):</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Months with HIGHEST % positive revisions (upward revisions):</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(monthly_pattern <span class="sc">|&gt;</span> <span class="fu">select</span>(month_name, pct_positive, n_total), <span class="dv">3</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  month_name pct_positive n_total
  &lt;ord&gt;             &lt;dbl&gt;   &lt;int&gt;
1 Sep                80.4      46
2 Aug                65.2      46
3 Jul                63.0      46</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">Months with LOWEST % positive revisions (more downward revisions):</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

Months with LOWEST % positive revisions (more downward revisions):</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">tail</span>(monthly_pattern <span class="sc">|&gt;</span> <span class="fu">select</span>(month_name, pct_positive, n_total), <span class="dv">3</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  month_name pct_positive n_total
  &lt;ord&gt;             &lt;dbl&gt;   &lt;int&gt;
1 Feb                46.8      47
2 Dec                45.7      46
3 Oct                41.3      46</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">POSSIBLE EXPLANATIONS:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

POSSIBLE EXPLANATIONS:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"- January: Preliminary estimates made in winter with incomplete data</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>- January: Preliminary estimates made in winter with incomplete data</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"- August/September: Summer hiring changes, back-to-school employment</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>- August/September: Summer hiring changes, back-to-school employment</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"- December/January: Holiday season employment fluctuations</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>- December/January: Holiday season employment fluctuations</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"- First month of quarter (Jan, April, July, October): Catching up on prior quarter data issues</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>- First month of quarter (Jan, April, July, October): Catching up on prior quarter data issues</code></pre>
</div>
</div>
</section>
<section id="analysis-5-annual-rolling-standard-deviation-by-era-revision-volatility" class="level3">
<h3 class="anchored" data-anchor-id="analysis-5-annual-rolling-standard-deviation-by-era-revision-volatility">Analysis 5 : Annual Rolling Standard Deviation by Era (Revision Volatility):</h3>
<p>INTERPRETATION:</p>
<p>Higher rolling SD = revisions are more unpredictable</p>
<p>If Post-2020 &gt; Pre-2020, suggests recent revisions are less stable</p>
<p>If Post-2020 &lt; Pre-2020, suggests recent revisions follow more predictable patterns</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate 12-month rolling standard deviation manually</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>rolling_volatility <span class="ot">&lt;-</span> ces_stats <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">%&gt;%</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create lag columns for 12-month window</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">rolling_sd_revision =</span> <span class="fu">sapply</span>(<span class="fu">row_number</span>(), <span class="cf">function</span>(i) {</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>      start_idx <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="dv">1</span>, i <span class="sc">-</span> <span class="dv">11</span>)</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (i <span class="sc">&lt;</span> <span class="dv">12</span>) <span class="fu">return</span>(<span class="cn">NA_real_</span>)</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sd</span>(revision[start_idx<span class="sc">:</span>i], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    }),</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">rolling_sd_abs =</span> <span class="fu">sapply</span>(<span class="fu">row_number</span>(), <span class="cf">function</span>(i) {</span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>      start_idx <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="dv">1</span>, i <span class="sc">-</span> <span class="dv">11</span>)</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (i <span class="sc">&lt;</span> <span class="dv">12</span>) <span class="fu">return</span>(<span class="cn">NA_real_</span>)</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sd</span>(abs_revision[start_idx<span class="sc">:</span>i], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>    }),</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">rolling_sd_pct =</span> <span class="fu">sapply</span>(<span class="fu">row_number</span>(), <span class="cf">function</span>(i) {</span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>      start_idx <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="dv">1</span>, i <span class="sc">-</span> <span class="dv">11</span>)</span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (i <span class="sc">&lt;</span> <span class="dv">12</span>) <span class="fu">return</span>(<span class="cn">NA_real_</span>)</span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sd</span>(pct_revision[start_idx<span class="sc">:</span>i], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(rolling_sd_revision)</span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics by era</span></span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">=== VOLATILITY STATISTICS BY ERA ===</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

=== VOLATILITY STATISTICS BY ERA ===</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>volatility_by_era <span class="ot">&lt;-</span> rolling_volatility <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">era =</span> <span class="fu">case_when</span>(</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&lt;</span> <span class="dv">2000</span> <span class="sc">~</span> <span class="st">"Pre-2000"</span>,</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&gt;=</span> <span class="dv">2000</span> <span class="sc">&amp;</span> year <span class="sc">&lt;</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"2000-2019"</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>      year <span class="sc">&gt;=</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"Post-2020"</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(era) <span class="sc">%&gt;%</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_volatility_raw =</span> <span class="fu">mean</span>(rolling_sd_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_volatility_raw =</span> <span class="fu">median</span>(rolling_sd_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_volatility_raw =</span> <span class="fu">max</span>(rolling_sd_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_volatility_raw =</span> <span class="fu">min</span>(rolling_sd_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_volatility_abs =</span> <span class="fu">mean</span>(rolling_sd_abs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_volatility_pct =</span> <span class="fu">mean</span>(rolling_sd_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months =</span> <span class="fu">n</span>(),</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(era, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Pre-2000"</span>, <span class="st">"2000-2019"</span>, <span class="st">"Post-2020"</span>)))</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(volatility_by_era,</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Volatility Statistics by Era"</span>,</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6a1ec5673bd1fbbe86c6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6a1ec5673bd1fbbe86c6">{"x":{"filter":"none","vertical":false,"caption":"<caption>Volatility Statistics by Era<\/caption>","data":[["1","2","3"],["Pre-2000","2000-2019","Post-2020"],[81.07934205432136,47.9405505769258,110.5063597337819],[73.1181588356487,47.22857033227591,86.8984292309155],[161.4919080438285,98.62828133343844,244.0656115213135],[36.66835395566839,22.62071991995325,32.89503508636727],[53.69198839217554,31.20690272464418,84.95186360358495],[255.0793264328071,150.8482558675446,32.17380220633472],[241,240,66]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>era<\/th>\n      <th>mean_volatility_raw<\/th>\n      <th>median_volatility_raw<\/th>\n      <th>max_volatility_raw<\/th>\n      <th>min_volatility_raw<\/th>\n      <th>mean_volatility_abs<\/th>\n      <th>mean_volatility_pct<\/th>\n      <th>n_months<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"era","targets":1},{"name":"mean_volatility_raw","targets":2},{"name":"median_volatility_raw","targets":3},{"name":"max_volatility_raw","targets":4},{"name":"min_volatility_raw","targets":5},{"name":"mean_volatility_abs","targets":6},{"name":"mean_volatility_pct","targets":7},{"name":"n_months","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Year-by-year volatility</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">=== AVERAGE VOLATILITY BY YEAR ===</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

=== AVERAGE VOLATILITY BY YEAR ===</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>volatility_by_year <span class="ot">&lt;-</span> rolling_volatility <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sd_revision =</span> <span class="fu">mean</span>(rolling_sd_revision, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sd_abs =</span> <span class="fu">mean</span>(rolling_sd_abs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sd_pct =</span> <span class="fu">mean</span>(rolling_sd_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months =</span> <span class="fu">n</span>(),</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_sd_revision))</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(volatility_by_year,</span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Average Volatility by Year"</span>,</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">20</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-adcff1faec3b62a91024" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-adcff1faec3b62a91024">{"x":{"filter":"none","vertical":false,"caption":"<caption>Average Volatility by Year<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47"],[2020,2022,2021,1980,1983,1981,1982,1984,1979,1990,2009,1991,1986,1989,1987,1985,1994,1988,2003,2001,1996,1995,1997,2006,2025,2008,2024,1998,2007,2000,1999,2013,2002,2019,2010,2015,1993,2004,1992,2012,2023,2018,2011,2014,2005,2017,2016],[190.9841175856689,149.0886305228284,146.2419051147432,141.9744592982658,125.2986121823487,122.6081337836788,122.0981931843581,115.5608273462261,107.0045311983081,96.38777191557467,86.20447096391248,86.19950499154473,84.25486717175798,77.54483842494392,73.24588471907227,69.54432543592473,66.00414108658418,63.47553288886392,62.22371455894456,62.14917441910926,61.02833161050946,60.73816118348925,59.63877074010838,57.99340633535358,56.88468328574955,54.35413837198781,53.18277652383044,53.15608822829647,52.23658085211671,51.90323020022885,51.07177687503675,51.03540419773063,49.60614348215478,46.35475453947338,46.07138189675709,45.53672277488189,45.00452626794888,44.8039333377482,44.59166132322871,42.36013147823113,39.84520714585452,39.37678024871982,38.97103509394147,34.62867847651684,33.4778154781686,30.85946136590007,28.66405346663888],[164.2111680639811,130.1761767049987,100.2067083169377,73.66235212797362,90.05428745093248,90.66345034240848,79.36586981536105,81.89341792079713,45.70723701069137,60.95423564488963,70.08446111312469,43.02431294219893,51.76640383658226,52.78973609310496,55.27532280767115,43.91304420808994,41.42055524594925,51.09572055253403,28.02360131334012,35.17575667572903,42.0181431405521,44.94534435069706,49.74961120648335,37.62793359489523,32.46602847355683,43.25345223123598,29.86225166624988,38.25804426603721,39.83450525699907,35.52117408840224,30.58981023653098,33.58501439791917,25.91723919748315,27.66238789195756,29.18569692575585,27.50093096955428,29.98687944103187,26.05540661275278,23.07862216214232,30.32380781927837,26.54593083077146,24.60025224063678,26.37611381581035,25.1246824680624,20.39923052278045,20.87422395069176,17.01218340647439],[19.44033735591062,22.50026271483992,31.09541814731138,170.167589362226,94.12595887332733,94.86550574445263,100.5502607152137,17.59253724007553,197.8429676907186,1029.567311211023,25.30041864597605,2155.659183173072,59.3584199645543,27.91235381737396,28.20106856812232,20.81282975344841,96.16278908207872,16.85199044110796,490.6631640658883,115.9528513431678,218.8970550291748,51.36877525458716,374.7641959243009,63.79844181234839,118.6993290810155,55.69057788743841,25.89347205373843,35.3858717341546,31.78873164418673,51.80193259958695,26.11520153881031,21.38975450510837,558.8184486292531,17.23589173050381,700.2451935022669,8.712172972717157,127.0064919598611,60.54363151947138,360.9908358310194,26.76986539600333,18.67675732253283,38.13612425793106,909.3261363150525,15.1873957279841,38.77151742035278,35.07158703822984,12.36421441569392],[12,12,12,12,12,12,12,12,1,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,6,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>mean_sd_revision<\/th>\n      <th>mean_sd_abs<\/th>\n      <th>mean_sd_pct<\/th>\n      <th>n_months<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"year","targets":1},{"name":"mean_sd_revision","targets":2},{"name":"mean_sd_abs","targets":3},{"name":"mean_sd_pct","targets":4},{"name":"n_months","targets":5}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Key insights</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">=== KEY FINDINGS ===</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

=== KEY FINDINGS ===</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>pre_2020_vol <span class="ot">&lt;-</span> volatility_by_era <span class="sc">%&gt;%</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(era <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Pre-2000"</span>, <span class="st">"2000-2019"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mean_volatility_raw) <span class="sc">%&gt;%</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>()</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>post_2020_vol <span class="ot">&lt;-</span> volatility_by_era <span class="sc">%&gt;%</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(era <span class="sc">==</span> <span class="st">"Post-2020"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mean_volatility_raw)</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>volatility_increase <span class="ot">&lt;-</span> ((post_2020_vol <span class="sc">-</span> pre_2020_vol) <span class="sc">/</span> pre_2020_vol) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Pre-2020 average volatility (SD of revisions):"</span>, <span class="fu">round</span>(pre_2020_vol, <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Pre-2020 average volatility (SD of revisions): 64.5099 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Post-2020 average volatility (SD of revisions):"</span>, <span class="fu">round</span>(post_2020_vol, <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Post-2020 average volatility (SD of revisions): 110.5064 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Increase:"</span>, <span class="fu">round</span>(volatility_increase, <span class="dv">2</span>), <span class="st">"%</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Increase: 71.3 %</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most volatile year</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>most_volatile_year <span class="ot">&lt;-</span> volatility_by_year <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(mean_sd_revision, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Most volatile year:"</span>, most_volatile_year<span class="sc">$</span>year, </span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"with avg volatility of"</span>, <span class="fu">round</span>(most_volatile_year<span class="sc">$</span>mean_sd_revision, <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Most volatile year: 2020 with avg volatility of 190.9841 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Least volatile year</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>least_volatile_year <span class="ot">&lt;-</span> volatility_by_year <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(mean_sd_revision, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Least volatile year:"</span>, least_volatile_year<span class="sc">$</span>year,</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"with avg volatility of"</span>, <span class="fu">round</span>(least_volatile_year<span class="sc">$</span>mean_sd_revision, <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Least volatile year: 2016 with avg volatility of 28.6641 </code></pre>
</div>
</div>
</section>
<section id="analysis-6-normalized-revision-ratio-revision-employment-level" class="level3">
<h3 class="anchored" data-anchor-id="analysis-6-normalized-revision-ratio-revision-employment-level">Analysis 6: Normalized Revision Ratio (Revision / Employment Level)</h3>
<p>KEY INSIGHT:</p>
<p>This addresses the ‘working population is larger’ argument:</p>
<p>If revisions are growing WITH the employment level, normalized ratios should be stable</p>
<p>If normalized ratios are increasing, revisions are growing faster than employment</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== NORMALIZED REVISION RATIO: REVISION AS % OF EMPLOYMENT LEVEL ===</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>=== NORMALIZED REVISION RATIO: REVISION AS % OF EMPLOYMENT LEVEL ===</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>normalized_analysis <span class="ot">&lt;-</span> ces_analysis <span class="sc">|&gt;</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(level)) <span class="sc">|&gt;</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">normalized_ratio =</span> abs_revision <span class="sc">/</span> level,</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_of_level =</span> (abs_revision <span class="sc">/</span> level) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(era) <span class="sc">|&gt;</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_normalized_ratio =</span> <span class="fu">mean</span>(normalized_ratio, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_normalized_ratio =</span> <span class="fu">median</span>(normalized_ratio, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pct_of_level =</span> <span class="fu">mean</span>(pct_of_level, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pct_of_level =</span> <span class="fu">sd</span>(pct_of_level, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_pct_of_level =</span> <span class="fu">max</span>(pct_of_level, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_months =</span> <span class="fu">n</span>(),</span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(era, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Pre-2000"</span>, <span class="st">"2000-2019"</span>, <span class="st">"Post-2020"</span>)))</span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(normalized_analysis,</span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Normalized Revision Ratios by Era"</span>,</span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-aefc6a556ad04e85dde3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-aefc6a556ad04e85dde3">{"x":{"filter":"none","vertical":false,"caption":"<caption>Normalized Revision Ratios by Era<\/caption>","data":[["1","2","3"],["Pre-2000","2000-2019","Post-2020"],[0.0006235373818299048,0.000308505839068526,0.0005836609650783592],[0.0004514928682341375,0.0002537281655132337,0.0003333741186732898],[0.0623537381829905,0.0308505839068526,0.05836609650783593],[0.06346476327444771,0.02575250438730365,0.07613317907375886],[0.4197398270628075,0.1784121320249777,0.4453427880314126],[252,240,66]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>era<\/th>\n      <th>mean_normalized_ratio<\/th>\n      <th>median_normalized_ratio<\/th>\n      <th>mean_pct_of_level<\/th>\n      <th>sd_pct_of_level<\/th>\n      <th>max_pct_of_level<\/th>\n      <th>n_months<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"era","targets":1},{"name":"mean_normalized_ratio","targets":2},{"name":"median_normalized_ratio","targets":3},{"name":"mean_pct_of_level","targets":4},{"name":"sd_pct_of_level","targets":5},{"name":"max_pct_of_level","targets":6},{"name":"n_months","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Trend analysis</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>pre_2020_norm <span class="ot">&lt;-</span> normalized_analysis <span class="sc">|&gt;</span> </span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(era <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Pre-2000"</span>, <span class="st">"2000-2019"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mean_pct_of_level) <span class="sc">|&gt;</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>()</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>post_2020_norm <span class="ot">&lt;-</span> normalized_analysis <span class="sc">|&gt;</span> </span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(era <span class="sc">==</span> <span class="st">"Post-2020"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mean_pct_of_level)</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Pre-2020 average normalized ratio:"</span>, <span class="fu">round</span>(pre_2020_norm, <span class="dv">4</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Pre-2020 average normalized ratio: 0.0466 %</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Post-2020 normalized ratio:"</span>, <span class="fu">round</span>(post_2020_norm, <span class="dv">4</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Post-2020 normalized ratio: 0.0584 %</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Difference:"</span>, <span class="fu">round</span>(post_2020_norm <span class="sc">-</span> pre_2020_norm, <span class="dv">4</span>), <span class="st">"percentage points or 1.18%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Difference: 0.0118 percentage points or 1.18%</code></pre>
</div>
</div>
</section>
</section>
<section id="visual-ces-analysis" class="level2">
<h2 class="anchored" data-anchor-id="visual-ces-analysis">Visual CES Analysis:</h2>
<section id="visualization-1-heatmap---year-month-revision-magnitude" class="level3">
<h3 class="anchored" data-anchor-id="visualization-1-heatmap---year-month-revision-magnitude">Visualization 1: Heatmap - Year × Month Revision Magnitude</h3>
<p>INTERPRETATION:</p>
<p>Darker colors = larger revision magnitudes</p>
<p>Look for entire rows that are darker = that year had consistently large revisions</p>
<p>Look for columns that are darker = that month tends to have large revisions</p>
<p>Compare 2020-2025 to earlier years to see if recent period looks anomalous</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for heatmap</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>heatmap_data <span class="ot">&lt;-</span> ces_stats <span class="sc">%&gt;%</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">%&gt;%</span></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_num =</span> <span class="fu">month</span>(date),</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_name =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, month_num, month_name, abs_revision) <span class="sc">%&gt;%</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, month_num)</span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create heatmap</span></span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>p_heatmap <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(heatmap_data, <span class="fu">aes</span>(<span class="at">x =</span> month_name, <span class="at">y =</span> year, <span class="at">fill =</span> abs_revision)) <span class="sc">+</span></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(</span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">low =</span> <span class="st">"white"</span>,</span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">high =</span> <span class="st">"darkred"</span>,</span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Absolute Revision</span><span class="sc">\n</span><span class="st">(thousands)"</span></span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1979</span>, <span class="dv">2025</span>, <span class="at">by =</span> <span class="dv">5</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">1978.5</span>, <span class="fl">2025.5</span>)) <span class="sc">+</span></span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"right"</span></span>
<span id="cb100-33"><a href="#cb100-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb100-34"><a href="#cb100-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb100-35"><a href="#cb100-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"CES Revision Magnitude Heatmap: Year × Month (1979-2025)"</span>,</span>
<span id="cb100-36"><a href="#cb100-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Darker red = larger revisions | Look for anomalous years/months"</span>,</span>
<span id="cb100-37"><a href="#cb100-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb100-38"><a href="#cb100-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Year"</span>,</span>
<span id="cb100-39"><a href="#cb100-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: BLS CES Data"</span></span>
<span id="cb100-40"><a href="#cb100-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb100-41"><a href="#cb100-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-42"><a href="#cb100-42" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p_heatmap)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="visualization-2-line-graph---monthly-revisions-over-time" class="level3">
<h3 class="anchored" data-anchor-id="visualization-2-line-graph---monthly-revisions-over-time">Visualization 2: Line Graph - Monthly Revisions Over Time</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data with month and year</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>viz2_data <span class="ot">&lt;-</span> ces_stats <span class="sc">|&gt;</span></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">|&gt;</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_name =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>),</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_num =</span> <span class="fu">month</span>(date),</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date)</span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create line plot: one line per month, showing revisions over the years</span></span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(viz2_data, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> revision, <span class="at">color =</span> month_name, <span class="at">group =</span> month_name)) <span class="sc">+</span></span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.8</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">"turbo"</span>) <span class="sc">+</span></span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb101-30"><a href="#cb101-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Monthly Revisions Over Time by Calendar Month (1979-2025)"</span>,</span>
<span id="cb101-31"><a href="#cb101-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Each colored line represents one month (Jan-Dec) showing its revision pattern across 46 years"</span>,</span>
<span id="cb101-32"><a href="#cb101-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb101-33"><a href="#cb101-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revision (thousands)"</span>,</span>
<span id="cb101-34"><a href="#cb101-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Month"</span>,</span>
<span id="cb101-35"><a href="#cb101-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: BLS CES Data"</span></span>
<span id="cb101-36"><a href="#cb101-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-37"><a href="#cb101-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-38"><a href="#cb101-38" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary: average revision for each month across all years</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">Average Revision by Month (Across All Years 1979-2025):</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

Average Revision by Month (Across All Years 1979-2025):</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>monthly_summary <span class="ot">&lt;-</span> viz2_data <span class="sc">|&gt;</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_name) <span class="sc">|&gt;</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(revision),</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_revision =</span> <span class="fu">median</span>(revision),</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_revision =</span> <span class="fu">sd</span>(revision),</span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_revision =</span> <span class="fu">min</span>(revision),</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_revision =</span> <span class="fu">max</span>(revision),</span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_years =</span> <span class="fu">n</span>(),</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(month_name, <span class="at">levels =</span> month.abb))</span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(monthly_summary,</span>
<span id="cb104-15"><a href="#cb104-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Average Revision by Month (1979-2025)"</span>,</span>
<span id="cb104-16"><a href="#cb104-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">12</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-57de9fa28f3dd8e4d783" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-57de9fa28f3dd8e4d783">{"x":{"filter":"none","vertical":false,"caption":"<caption>Average Revision by Month (1979-2025)<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],[0.06382978723404194,2.021276595744685,-3.765957446808496,22.5744680851064,17.53191489361702,7.255319148936147,2.347826086956528,32.71739130434783,53.28260869565219,-17.67391304347827,29.06521739130433,-6.934782608695673],[7,-3,11,16,17,2,9.5,19.5,51,-11,24,-4],[65.07500831158616,55.45561851085813,118.9790286172055,97.63747157566698,80.66917170545868,75.39619067908981,76.62004883878612,62.87895356899928,94.64733676912374,64.59482412970738,83.39102061277688,85.86692602805371],[-156,-109,-672,-250,-303,-186,-287,-65,-244,-183,-102,-176],[184,157,145,331,216,222,148,248,383,117,437,389],[47,47,47,47,47,47,46,46,46,46,46,46]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>month_name<\/th>\n      <th>mean_revision<\/th>\n      <th>median_revision<\/th>\n      <th>sd_revision<\/th>\n      <th>min_revision<\/th>\n      <th>max_revision<\/th>\n      <th>n_years<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":12,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"month_name","targets":1},{"name":"mean_revision","targets":2},{"name":"median_revision","targets":3},{"name":"sd_revision","targets":4},{"name":"min_revision","targets":5},{"name":"max_revision","targets":6},{"name":"n_years","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,12,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="visualization-3-dual-axis-chart---employment-level-vs-revision" class="level3">
<h3 class="anchored" data-anchor-id="visualization-3-dual-axis-chart---employment-level-vs-revision">Visualization 3: Dual-Axis Chart - Employment Level vs Revision</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for dual axis</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>viz3_data <span class="ot">&lt;-</span> ces_stats <span class="sc">|&gt;</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, level, revision, abs_revision) <span class="sc">|&gt;</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate scaling factor for secondary axis</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>scale_factor <span class="ot">&lt;-</span> <span class="fu">max</span>(viz3_data<span class="sc">$</span>level) <span class="sc">/</span> <span class="fu">max</span>(viz3_data<span class="sc">$</span>abs_revision)</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dual-axis plot</span></span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(viz3_data, <span class="fu">aes</span>(<span class="at">x =</span> date)) <span class="sc">+</span></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Primary axis: Employment level (area under curve)</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="fu">aes</span>(<span class="at">y =</span> level, <span class="at">fill =</span> <span class="st">"Employment Level"</span>), <span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> level, <span class="at">color =</span> <span class="st">"Employment Level"</span>), <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Secondary axis: Absolute revision (bar chart)</span></span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">y =</span> abs_revision <span class="sc">*</span> scale_factor, <span class="at">fill =</span> <span class="st">"Revision Magnitude"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Dual y-axes</span></span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Employment Level (thousands)"</span>,</span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . <span class="sc">/</span> scale_factor, <span class="at">name =</span> <span class="st">"Absolute Revision (thousands)"</span>)</span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Employment Level"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>, <span class="st">"Revision Magnitude"</span> <span class="ot">=</span> <span class="st">"red"</span>),</span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">guide =</span> <span class="st">"legend"</span></span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb105-25"><a href="#cb105-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb105-26"><a href="#cb105-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Employment Level"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>),</span>
<span id="cb105-27"><a href="#cb105-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">guide =</span> <span class="st">"none"</span></span>
<span id="cb105-28"><a href="#cb105-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb105-29"><a href="#cb105-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb105-30"><a href="#cb105-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb105-31"><a href="#cb105-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb105-32"><a href="#cb105-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb105-33"><a href="#cb105-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb105-34"><a href="#cb105-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb105-35"><a href="#cb105-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb105-36"><a href="#cb105-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb105-37"><a href="#cb105-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb105-38"><a href="#cb105-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Employment Level vs Revision Magnitude Over Time (1979-2025)"</span>,</span>
<span id="cb105-39"><a href="#cb105-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Blue area: Total nonfarm employment | Red bars: Absolute revision amount"</span>,</span>
<span id="cb105-40"><a href="#cb105-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb105-41"><a href="#cb105-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Employment Level (thousands)"</span>,</span>
<span id="cb105-42"><a href="#cb105-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: BLS CES Data"</span></span>
<span id="cb105-43"><a href="#cb105-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb105-44"><a href="#cb105-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-45"><a href="#cb105-45" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="visualization-4-pre-2020-vs-post-2020-distrbution-of-revision-calculations" class="level3">
<h3 class="anchored" data-anchor-id="visualization-4-pre-2020-vs-post-2020-distrbution-of-revision-calculations">Visualization 4: Pre-2020 vs Post-2020 Distrbution of Revision Calculations</h3>
<p>INTERPRETATION:</p>
<p>If curves have same shape = revisions behave similarly</p>
<p>If Post-2020 (red) is wider = revisions are more variable/unpredictable</p>
<p>If Post-2020 is shifted right = revisions tend to be larger (positive)</p>
<p>If Post-2020 is shifted left = revisions tend to be larger (negative)</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for density plot</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>density_data <span class="ot">&lt;-</span> ces_stats <span class="sc">%&gt;%</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">%&gt;%</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">period =</span> <span class="fu">if_else</span>(year <span class="sc">&lt;</span> <span class="dv">2020</span>, <span class="st">"Pre-2020"</span>, <span class="st">"Post-2020"</span>)</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plot</span></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>p_density <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(density_data, <span class="fu">aes</span>(<span class="at">x =</span> revision, <span class="at">fill =</span> period, <span class="at">color =</span> period)) <span class="sc">+</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Pre-2020"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>, <span class="st">"Post-2020"</span> <span class="ot">=</span> <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Pre-2020"</span> <span class="ot">=</span> <span class="st">"darkblue"</span>, <span class="st">"Post-2020"</span> <span class="ot">=</span> <span class="st">"darkred"</span>)) <span class="sc">+</span></span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb106-21"><a href="#cb106-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb106-22"><a href="#cb106-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb106-23"><a href="#cb106-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of CES Revisions: Pre-2020 vs Post-2020"</span>,</span>
<span id="cb106-24"><a href="#cb106-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Overlaid density curves show shape and spread of revision distributions"</span>,</span>
<span id="cb106-25"><a href="#cb106-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Revision Amount (thousands)"</span>,</span>
<span id="cb106-26"><a href="#cb106-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb106-27"><a href="#cb106-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: BLS CES Data"</span></span>
<span id="cb106-28"><a href="#cb106-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb106-29"><a href="#cb106-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-30"><a href="#cb106-30" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p_density)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp04_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="task-4-statistical-inference" class="level1">
<h1>Task 4: Statistical Inference</h1>
<p>To commend the exploratory analysis performed previously, we will perform 2 inferential examinations about the CES revison that may reveal some disturbing facts about today’s job market using hypothesis testing.</p>
<section id="has-the-fraction-of-revisions-1-increased-post-2020" class="level2">
<h2 class="anchored" data-anchor-id="has-the-fraction-of-revisions-1-increased-post-2020">Has the fraction of revisions &gt; 1% increased post-2020?</h2>
<p>Null Hypothesis: Fraction of revisions &gt;1% is equal Pre-2020 and Post-2020</p>
<p>A proportion test will be applied to determine if revision size is correlated with employment change.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>test4_data <span class="ot">&lt;-</span> ces_analysis <span class="sc">%&gt;%</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision)) <span class="sc">%&gt;%</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">period =</span> <span class="fu">if_else</span>(year <span class="sc">&lt;</span> <span class="dv">2020</span>, <span class="st">"Pre-2020"</span>, <span class="st">"Post-2020"</span>),</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_revision =</span> pct_revision <span class="sc">&gt;</span> <span class="fl">1.0</span>  <span class="co"># TRUE if revision &gt; 1%, FALSE otherwise</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(large_revision, period)</span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform proportion test</span></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a>test4_result <span class="ot">&lt;-</span> test4_data <span class="sc">%&gt;%</span></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop_test</span>(large_revision <span class="sc">~</span> period, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Pre-2020"</span>, <span class="st">"Post-2020"</span>))</span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-15"><a href="#cb107-15" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Proportion Test Results:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Proportion Test Results:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(test4_result)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 6
  statistic chisq_df p_value alternative lower_ci upper_ci
      &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;
1      2.01        1   0.156 two.sided     -0.177   0.0129</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">DETAILED BREAKDOWN:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

DETAILED BREAKDOWN:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate actual proportions</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>prop_summary_test4 <span class="ot">&lt;-</span> test4_data <span class="sc">%&gt;%</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(period) <span class="sc">%&gt;%</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_large_revisions =</span> <span class="fu">sum</span>(large_revision),</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_revisions =</span> <span class="fu">n</span>(),</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_large =</span> (<span class="fu">sum</span>(large_revision) <span class="sc">/</span> <span class="fu">n</span>()) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(prop_summary_test4,</span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Count and Proportion of Revisions &gt; 1%"</span>,</span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-aff703def66f51d2950e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-aff703def66f51d2950e">{"x":{"filter":"none","vertical":false,"caption":"<caption>Count and Proportion of Revisions &gt; 1%<\/caption>","data":[["1","2"],["Post-2020","Pre-2020"],[58,392],[66,492],[87.87878787878788,79.67479674796748]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>period<\/th>\n      <th>num_large_revisions<\/th>\n      <th>total_revisions<\/th>\n      <th>pct_large<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"period","targets":1},{"name":"num_large_revisions","targets":2},{"name":"total_revisions","targets":3},{"name":"pct_large","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st"> RESULTS AND KEY STATISTICS:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

 RESULTS AND KEY STATISTICS:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>pre_2020_large <span class="ot">&lt;-</span> prop_summary_test4 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">==</span> <span class="st">"Pre-2020"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(pct_large)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>post_2020_large <span class="ot">&lt;-</span> prop_summary_test4 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">==</span> <span class="st">"Post-2020"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(pct_large)</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>diff_large <span class="ot">&lt;-</span> post_2020_large <span class="sc">-</span> pre_2020_large</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Pre-2020:"</span>, <span class="fu">round</span>(pre_2020_large, <span class="dv">2</span>), <span class="st">"% of revisions were &gt; 1%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Pre-2020: 79.67 % of revisions were &gt; 1%</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Post-2020:"</span>, <span class="fu">round</span>(post_2020_large, <span class="dv">2</span>), <span class="st">"% of revisions were &gt; 1%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Post-2020: 87.88 % of revisions were &gt; 1%</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Difference:"</span>, <span class="fu">round</span>(diff_large, <span class="dv">2</span>), <span class="st">"percentage points</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Difference: 8.2 percentage points</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Relative increase:"</span>, <span class="fu">round</span>((diff_large <span class="sc">/</span> pre_2020_large) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"%</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Relative increase: 10.3 %</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (test4_result<span class="sc">$</span>p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"INTERPRETATION:✓ SIGNIFICANT (p &lt; 0.05): The fraction of large revisions (&gt;1%) IS significantly different</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (post_2020_large <span class="sc">&gt;</span> pre_2020_large) {</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"  Post-2020 has MORE large revisions than Pre-2020 - SUPPORTS Trump's concern</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"  Post-2020 has FEWER large revisions than Pre-2020 - CONTRADICTS Trump's concern</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"INTERPRETATION: ✗ NOT SIGNIFICANT (p ≥ 0.05): No significant difference in large revision frequency</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"  Observed differences could be due to random variation</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>INTERPRETATION: ✗ NOT SIGNIFICANT (p ≥ 0.05): No significant difference in large revision frequency
  Observed differences could be due to random variation</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">95% Confidence Innterval for difference:"</span>, <span class="fu">round</span>(test4_result<span class="sc">$</span>lower_ci, <span class="dv">4</span>), <span class="st">"to"</span>, <span class="fu">round</span>(test4_result<span class="sc">$</span>upper_ci, <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
95% Confidence Innterval for difference: -0.177 to 0.0129 </code></pre>
</div>
</div>
<section id="results-analysis" class="level3">
<h3 class="anchored" data-anchor-id="results-analysis">Results &amp; Analysis:</h3>
<p>The proportion test examining whether the fraction of revisions exceeding 1% has increased post-2020 yielded a p-value of 0.1561. The pre-2020 period saw 79.67% of monthly revisions exceed the 1% threshold, while the post-2020 period experienced 87.88% of revisions at this magnitude. This represents a 8.2 percentage point increase, or roughly a 10.3% relative increase in the frequency of large revisions. The 95% confidence interval for the difference ranges from -0.177 to 0.0129. Despite the observed increase in the percentage of revisions exceeding 1%, this difference does not reach statistical significance (p ≥ 0.05).</p>
<p>This suggests that the observed pattern could reasonably occur due to natural variation rather than representing a fundamental shift in BLS methodology or data quality. The absence of statistical significance implies that while recent years may have experienced some larger revisions, the frequency of such events is not dramatically different from historical norms. This finding supports the interpretation that recent revisions, while sometimes substantial, fall within the range of normal variation observed throughout the 45-year study period.</p>
</section>
</section>
<section id="are-revisions-larger-when-ces-change-is-larger" class="level2">
<h2 class="anchored" data-anchor-id="are-revisions-larger-when-ces-change-is-larger">Are revisions larger when CES change is larger?</h2>
<p>Research Question: Do larger employment changes predict larger revisions? We’ll answer with a T-Test through measuring revision magnitude when employment change is above/below median (Large Employment Changes vs Revisions)</p>
<p>If YES: Suggests big revisions are justified by volatile employment.</p>
<p>If NO: Suggests revisions are independent of employment volatility.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data - calculate month-over-month employment change</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>test5_data <span class="ot">&lt;-</span> ces_stats <span class="sc">%&gt;%</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revision) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(level)) <span class="sc">%&gt;%</span></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_change =</span> level <span class="sc">-</span> <span class="fu">lag</span>(level),</span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">abs_employment_change =</span> <span class="fu">abs</span>(employment_change),</span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">period =</span> <span class="fu">if_else</span>(year <span class="sc">&lt;</span> <span class="dv">2020</span>, <span class="st">"Pre-2020"</span>, <span class="st">"Post-2020"</span>)</span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(employment_change)</span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-15"><a href="#cb128-15" aria-hidden="true" tabindex="-1"></a>median_emp_change <span class="ot">&lt;-</span> <span class="fu">median</span>(test5_data<span class="sc">$</span>abs_employment_change, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb128-16"><a href="#cb128-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-17"><a href="#cb128-17" aria-hidden="true" tabindex="-1"></a>test5_binary <span class="ot">&lt;-</span> test5_data <span class="sc">%&gt;%</span></span>
<span id="cb128-18"><a href="#cb128-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb128-19"><a href="#cb128-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_emp_change =</span> abs_employment_change <span class="sc">&gt;</span> median_emp_change</span>
<span id="cb128-20"><a href="#cb128-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb128-21"><a href="#cb128-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(abs_revision, large_emp_change)</span>
<span id="cb128-22"><a href="#cb128-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-23"><a href="#cb128-23" aria-hidden="true" tabindex="-1"></a>test5_ttest <span class="ot">&lt;-</span> test5_binary <span class="sc">%&gt;%</span></span>
<span id="cb128-24"><a href="#cb128-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t_test</span>(abs_revision <span class="sc">~</span> large_emp_change, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span>, <span class="st">"FALSE"</span>))</span>
<span id="cb128-25"><a href="#cb128-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-26"><a href="#cb128-26" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"T-Test Results (Large vs Small Employment Changes):</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>T-Test Results (Large vs Small Employment Changes):</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(test5_ttest)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  statistic  t_df p_value alternative estimate lower_ci upper_ci
      &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1      1.70  466.  0.0899 two.sided       8.92    -1.39     19.2</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">DETAILED COMPARISON:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

DETAILED COMPARISON:</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>emp_change_summary <span class="ot">&lt;-</span> test5_data <span class="sc">%&gt;%</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_emp_change =</span> abs_employment_change <span class="sc">&gt;</span> median_emp_change,</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">emp_category =</span> <span class="fu">if_else</span>(large_emp_change, <span class="st">"Large Emp Change"</span>, <span class="st">"Small Emp Change"</span>)</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(emp_category) <span class="sc">%&gt;%</span></span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_revision =</span> <span class="fu">mean</span>(abs_revision),</span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_revision =</span> <span class="fu">median</span>(abs_revision),</span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_revision =</span> <span class="fu">sd</span>(abs_revision),</span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb134-12"><a href="#cb134-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb134-13"><a href="#cb134-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb134-14"><a href="#cb134-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-15"><a href="#cb134-15" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(emp_change_summary,</span>
<span id="cb134-16"><a href="#cb134-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Revision Magnitude by Employment Change Size"</span>,</span>
<span id="cb134-17"><a href="#cb134-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a030d903b4a94b2d701d" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a030d903b4a94b2d701d">{"x":{"filter":"none","vertical":false,"caption":"<caption>Revision Magnitude by Employment Change Size<\/caption>","data":[["1","2"],["Large Emp Change","Small Emp Change"],[61.31654676258992,52.4014336917563],[41.5,43],[74.12391186421398,46.52635361460159],[278,279]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>emp_category<\/th>\n      <th>mean_revision<\/th>\n      <th>median_revision<\/th>\n      <th>sd_revision<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"emp_category","targets":1},{"name":"mean_revision","targets":2},{"name":"median_revision","targets":3},{"name":"sd_revision","targets":4},{"name":"n","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (test5_ttest<span class="sc">$</span>p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"INTERPRETATION: ✓ SIGNIFICANT (p &lt; 0.05): Revisions ARE larger when employment changes are larger</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"  This supports the explanation that big revisions follow big employment swings</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"INTERPRETATION: ✗ NOT SIGNIFICANT (p ≥ 0.05): Revision size doesn't depend on employment change</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"  Big revisions occur regardless of employment volatility</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>INTERPRETATION: ✗ NOT SIGNIFICANT (p ≥ 0.05): Revision size doesn't depend on employment change
  Big revisions occur regardless of employment volatility</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Estimated difference:"</span>, <span class="fu">round</span>(test5_ttest<span class="sc">$</span>estimate, <span class="dv">4</span>), <span class="st">"thousand</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Estimated difference: 8.9151 thousand</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">95% Confidence Innterval for difference:"</span>, <span class="fu">round</span>(test5_ttest<span class="sc">$</span>lower_ci, <span class="dv">4</span>), <span class="st">"to"</span>, <span class="fu">round</span>(test5_ttest<span class="sc">$</span>upper_ci, <span class="dv">4</span>), <span class="st">"thousand</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
95% Confidence Innterval for difference: -1.3941 to 19.2243 thousand</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="results-analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="results-analysis-1">Results &amp; Analysis:</h3>
<p>The two-sample t-test comparing revision magnitudes when employment changes are large versus small revealed a p-value of 0.0899. When monthly employment changes exceeded the median of 202 thousand workers, the mean absolute revision was 61.32 thousand. In contrast, months with smaller employment changes had mean absolute revisions of 52.4 thousand. The estimated difference between these groups is 8.92 thousand, with a 95% confidence interval of -1.39 to 19.22 thousand.</p>
<p>The lack of statistical significance in this relationship (p ≥ 0.05) indicates that revision magnitude is not systematically tied to the size of employment changes. This finding suggests that large revisions occur relatively independently of employment volatility, which raises concerns about whether the BLS’s initial estimation methodology adequately captures labor market dynamics even when employment movements are substantial. If revisions were a natural consequence of large employment swings, we would expect to see this statistical relationship. The absence of such a relationship implies that the drivers of recent large revisions may lie elsewhere—potentially in methodology, data collection challenges, or other systematic factors. This pattern supports the interpretation that recent revisions represent a departure from historical norms rather than simply reflecting normal variation.</p>
</section>
</section>
</section>
<section id="task-5-fact-checking-bls-claims" class="level1">
<h1>Task 5: Fact Checking BLS Claims:</h1>
<section id="hypothesis-i-democratic-presidents-have-more-negative-revisions-and-often-lie-about-raw-employment-numbers-to-inflate-their-public-perceptions." class="level2">
<h2 class="anchored" data-anchor-id="hypothesis-i-democratic-presidents-have-more-negative-revisions-and-often-lie-about-raw-employment-numbers-to-inflate-their-public-perceptions.">Hypothesis I: Democratic Presidents have more negative revisions and often lie about raw employment numbers to inflate their public perceptions.</h2>
<p>Source: <a href="https://www.politifact.com/factchecks/2024/aug/23/donald-trump/donald-trumps-pants-on-fire-claim-that-biden-harri/">Donald Trump</a>: “The Harris-Biden Administration has been caught fraudulently manipulating Job Statistics.” August 21, 2024</p>
<p>Politifact Rating: PANTS ON FIRE</p>
<p>Analysis: This claims that Democratic Administrations since 1979 are lying about the true workforce in America through fraudulent BLS reporting that is trying to kill the American workforce with their policies. Trump claims here that the administration at the time “Falsely created”818,000 jobs”.</p>
<p>Historical Evidence: According to the top 50 negative revisions of all time (Analysis 2) and the Monthly Revisions Line and Magnitude graphs to some extent (Visualizations 2 &amp; 3), it is actually Republican Administrations who hold this unfortunate distinction, this can largely be attributed to the COVID-19 Pandemic during Donald Trump’s first term and the Great Recession during George W. Bush’s presidency dramatically lowering employment numbers, though it can also be attributed to Republican Policies allowing businesses operate in this manner for their own benefit. While Democrats aren’t immune to the reporting discrepancies, namely during Jimmy Carter’s administration, specifically in this scenario there was zero evidence that the administration was playing with the job numbers to inflate their own image to the general public.</p>
</section>
<section id="hypothesis-ii-the-most-egregious-month-for-absolute-revisions-is-september-in-preparation-for-eoy-valuations." class="level2">
<h2 class="anchored" data-anchor-id="hypothesis-ii-the-most-egregious-month-for-absolute-revisions-is-september-in-preparation-for-eoy-valuations.">Hypothesis II: The most egregious month for absolute revisions is September in preparation for EOY valuations.</h2>
<p>Source: <a href="https://www.politifact.com/factchecks/2014/oct/29/scott-walker/scott-walker-says-september-job-growth-largest-sep/">Scott Walker</a>: Figures for September 2014’s job growth in Wisconsin mark the “largest private-sector job creation we’ve had in the month of September in more than a decade” October 17, 2014</p>
<p>Politifact Rating: Mostly True</p>
<p>Analysis: This claims that companies will more accurately report their labor statistics in preparation for Q4/Yearly earnings towards the end of the year to seem more enticing to shareholders and in turn drive up their value into the new fiscal year, while also promoting transparent and “audit-Ready FInancial Records”.</p>
<p>Historical Evidence: According to the Heatmap (Visualization 1) that tracks Absolute Revisions and the Calendar Months that have the highest positive revision (Analysis 4); historically, the months with the highest total revisions are September, August, and July, respectively. Additionally, September has the highest percent of positive and average absolute revisions across all months by a a sizable margin, showing that companies are showing more honesty to correct reporting mistakes earlier in the year and try to elude any claims of fraudulent inflation that may arise come Q4 Earnings once it is audit season. In terms of the non corporate workforce, September still sees high positive revisions due to education/municipal related hirings being reported around this time of year.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/oheb\.github\.io\/STA9750-2025-FALL\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>